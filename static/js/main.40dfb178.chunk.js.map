{"version":3,"sources":["components/UI/input/input.module.css","components/navigation/sideDrawer/sideDrawer.module.css","components/burger/burgerIngredient/burgerIngredient.module.css","components/burger/buildControls/buildControl/buildControl.module.css","components/navigation/toolbar/toolbar.module.css","components/navigation/navigationItems/navigationItem/navigationItem.module.css","components/burger/buildControls/buildControls.module.css","components/UI/button/button.module.css","components/order/order.module.css","assets/images/burger-logo.png","components/navigation/logo/logo.module.css","components/navigation/sideDrawer/drawerToggle/drawerToggle.module.css","components/navigation/navigationItems/navigationItems.module.css","components/UI/backdrop/backdrop.module.css","components/layout/layout.module.css","components/burger/burger.module.css","components/UI/modal/modal.module.css","components/UI/spinner/spinner.module.css","components/checkoutSummary/checkoutSummary.module.css","containers/checkout/contactData/contactData.module.css","containers/auth/auth.module.css","logo.svg","App.module.css","axios-orders.js","redux/actions/auth.js","redux/actions/actionsTypes.js","hoc/auxComponent.js","components/navigation/logo/logo.js","components/navigation/sideDrawer/drawerToggle/drawerToggle.js","components/navigation/navigationItems/navigationItem/navigationItem.js","components/navigation/navigationItems/navigationItems.js","components/navigation/toolbar/toolbar.js","components/UI/backdrop/backdrop.js","components/navigation/sideDrawer/sideDrawer.js","components/layout/loyout.js","components/burger/burgerIngredient/burgerIngredient.js","components/burger/burger.js","components/burger/buildControls/buildControl/buildControl.js","components/burger/buildControls/buildControls.js","components/UI/modal/modal.js","components/UI/button/button.js","components/burger/orderSummary/orderSummary.js","components/UI/spinner/spinner.js","hoc/withErrorHandler/withErrorHandler.js","containers/burgerBuilder/burgerBuilder.js","redux/actions/burger.js","redux/actions/orders.js","components/checkoutSummary/checkoutSummary.js","components/UI/input/input.js","helpers/formHelper.js","containers/checkout/contactData/contactData.js","containers/checkout/checkout.js","components/order/order.js","containers/orders/orders.js","containers/auth/auth.js","containers/auth/logout/logout.js","App.js","serviceWorker.js","redux/reducers/burgerReducer.js","redux/reducers/orders.js","redux/reducers/authReducer.js","redux/store.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","authStart","type","authFail","error","payload","authSuccess","idToken","tokenId","logOut","localStorage","removeItem","checkAuth","expirationTime","dispach","setTimeout","console","log","parseInt","props","children","Logo","className","styles","src","BurgerLogo","alt","drawerToggle","DrawerToggle","onClick","toggle","navigationItem","to","link","exact","activeClassName","active","NavigationItems","isAuth","Toolbar","toggleSideDrawer","Navigation","show","Backdrop","clicked","sideDrawer","showClass","showSideDrawer","Open","Closed","closeSideDrawer","SideDrawer","join","Layout","closeSideDrawerHandler","setState","toggleSideDrawerHandler","oldState","state","this","Content","React","Component","connect","auth","user","ingredient","BreadTop","BreadBottom","Meat","Cheese","transformedIngredient","Object","keys","map","i","Array","_","index","key","reduce","acumulador","elemt","concat","length","Burger","disable","BuildControl","Label","label","less","e","des","disabled","More","add","controls","message","BuildControls","price","toFixed","c","disabledInfo","addIngredient","desIngredient","OrderButton","ordered","purchasable","inlineStyles","transform","opacity","hide","style","Modal","Button","ingredients","ingredientsList","cancelPurchasing","continuePurchasing","spinner","Loader","withErrorHandler","closeClickHandler","resInterceptor","interceptors","response","use","res","err","reqInterceptor","request","req","BurgerBuilder","purchasing","loading","addIngredientHandler","updatePurchaseState","removeIngredientHandler","removeIngredient","ingKeys","sum","element","history","push","initPurchase","initIngredients","burger","orderSummary","totalPrice","dispatch","actions","get","then","data","catch","failedFetch","WithErrorHandler","checkoutSummary","CheckoutSummary","width","margin","checkoutCancelled","checkoutContinue","Input","placeholder","name","options","changed","value","valid","validation","touched","blur","wasInvalid","inputElement","inputClasses","InputElement","Invalid","WasInvalid","onChange","onBlur","o","createInput","dirty","ContactData","submitHandler","preventDefault","orderData","inputKey","form","order","submitContactData","inputBlurHandler","target","updateform","updateInput","inputChangedHandler","checkValidity","required","minLength","email","street","postal","deleveryMethod","rules","isValid","trim","formIsValid","input","inputArray","onSubmit","post","purcharseBurgerFail","Checkout","checkoutCancelledHandler","goBack","checkoutContinueHandler","replace","setRedirect","redirect","path","render","Order","address","deliverymethod","ingredientsArray","ingredientName","amount","ingredientsOutput","ig","IngredientBox","Number","parseFloat","Orders","fetchOrders","token","orders","id","isloading","isLoading","ordersArray","fetchOrderSuccess","fetchOrderFail","Auth","submitHanler","password","isSignUp","switchAuthModeHandler","prevState","isEmail","test","String","toLowerCase","errorAlert","Fragment","redirectPath","isBuilding","code","building","signIn","authData","returnSecureToken","url","expirationDate","Date","getTime","expiresIn","setItem","withRouter","onLogout","onCheckAuthState","getItem","useEffect","routes","component","Logout","Boolean","window","location","hostname","match","INGREDIENT_PRICE","salad","bacon","cheese","meat","initialState","reducer","action","localId","refreshToken","authLogOut","reducers","combineReducers","burgerReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","app","basename","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,aAAe,4BAA4B,QAAU,uBAAuB,WAAa,4B,mBCArKD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,KAAO,yBAAyB,KAAO,yBAAyB,OAAS,6B,mBCAvID,EAAOC,QAAU,CAAC,YAAc,sCAAsC,SAAW,mCAAmC,OAAS,iCAAiC,OAAS,iCAAiC,KAAO,+BAA+B,OAAS,iCAAiC,MAAQ,gCAAgC,MAAQ,kC,mBCAxUD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,4BAA4B,KAAO,2BAA2B,KAAO,6B,mBCAjJD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,WAAa,4BAA4B,KAAO,wB,mBCArGD,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,OAAS,iC,mBCAnFD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,YAAc,mCAAmC,OAAS,gC,mBCAjID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,OAAS,yB,mBCA7FD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,cAAgB,+B,mBCD/DD,EAAOC,QAAU,IAA0B,yC,mBCC3CD,EAAOC,QAAU,CAAC,KAAO,qB,mBCAzBD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,gBAAkB,2C,mBCApCD,EAAOC,QAAU,CAAC,SAAW,6B,mBCA7BD,EAAOC,QAAU,CAAC,QAAU,0B,mBCA5BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,MAAQ,uB,mBCA1BD,EAAOC,QAAU,CAAC,OAAS,wBAAwB,MAAQ,yB,mBCA3DD,EAAOC,QAAU,CAAC,gBAAkB,2C,mBCApCD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,6B,mBCAzED,EAAOC,QAAU,CAAC,KAAO,qB,4ECDzBD,EAAOC,QAAU,IAA0B,kC,mBCC3CD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,WAAW,sBAAsB,aAAa,wBAAwB,WAAW,wB,wICK3GC,EAJEC,IAAMC,OAAO,CAC1BC,QAAQ,8CC+BCC,EAAY,WACrB,MAAO,CACHC,KCbiB,eDiBZC,EAAW,SAACC,GACrB,MAAQ,CACJF,KCpBgB,YDqBhBG,QAAQD,IAIHE,EAAc,SAACC,GACxB,MAAQ,CACJL,KC5BmB,eD6BnBG,QAAQ,CAACG,QAAQD,KAIZE,EAAS,WAIlB,OAHAC,aAAaC,WAAW,WACxBD,aAAaC,WAAW,kBAEhB,CACJT,KClCiB,gBDuCnBU,EAAW,SAACC,GAChB,OAAO,SAACC,GACNC,YAAY,WACRC,QAAQC,IAAI,yBAEZH,EAAQL,OACkB,IAA3BS,SAASL,M,mCEtED,WAACM,GAAD,OAAUA,EAAMC,U,mDCIhB,SAASC,IACtB,OACE,yBAAKC,UAAWC,IAAOF,MACnB,yBAAKG,IAAKC,IAAaC,IAAI,U,qBCJpB,SAASC,EAAaR,GACnC,OACE,yBAAKG,UAAWC,IAAOK,aAAcC,QAASV,EAAMW,QAChD,8BACA,8BACA,+B,qBCJO,SAASC,EAAeZ,GACrC,OACE,wBAAIG,UAAWC,IAAOQ,gBAClB,kBAAC,IAAD,CAASC,GAAIb,EAAMc,KACTC,OAAK,EACLC,gBAAiBZ,IAAOa,QAASjB,EAAMC,W,qBCJ1C,SAASiB,EAAgBlB,GAGtC,OACI,wBAAIG,UAAWC,IAAOc,iBAClB,kBAAC,EAAD,CAAgBJ,KAAK,KAArB,kBACCd,EAAMmB,QACP,kBAAC,EAAD,CAAgBL,KAAK,WAArB,UAECd,EAAMmB,OACP,kBAAC,EAAD,CAAgBL,KAAK,WAArB,WACA,kBAAC,EAAD,CAAgBA,KAAK,SAArB,WCVK,SAASM,EAAQpB,GAC9B,OACE,4BAAQG,UAAWC,IAAOgB,SACtB,kBAAC,EAAD,CAAcT,OAAQX,EAAMqB,mBAC5B,yBAAKlB,UAAWC,IAAOF,MACrB,kBAACA,EAAD,OAEF,yBAAKC,UAAW,CAACC,IAAOkB,aACpB,kBAAC,EAAD,CAAgBH,OAAUnB,EAAMmB,W,qBCX7B,WAACnB,GACd,OAAQA,EAAMuB,KAAO,yBAAKpB,UAAWC,IAAOoB,SAAUd,QAASV,EAAMyB,UAAkB,M,iBCI1E,SAASC,EAAW1B,GACjC,IAAI2B,EAAY3B,EAAM4B,eAAiBxB,IAAOyB,KAAOzB,IAAO0B,OAE5D,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAUP,KAAMvB,EAAM4B,eAAgBH,QAASzB,EAAM+B,kBACrD,yBAAK5B,UAAW,CAACC,IAAO4B,WAAWL,GAAWM,KAAK,MAC7C,yBAAK9B,UAAWC,IAAOF,MACpB,kBAACA,EAAD,OAEH,6BACE,kBAACgB,EAAD,S,qBCZRgB,E,YACJ,aAAc,IAAD,8BACX,+CAKFC,uBAAyB,WACvB,EAAKC,SAAS,CAACR,gBAAe,KAPnB,EASbS,wBAA0B,WACxB,EAAKD,UAAU,SAACE,GACd,MAAO,CACLV,gBAAiBU,EAASV,oBAV9B,EAAKW,MAAM,CACTX,gBAAe,GAHN,E,sEAiBL,OACE,kBAAC,EAAD,KAEM,kBAACR,EAAD,CAASC,iBAAkBmB,KAAKH,wBAAyBlB,OAAQqB,KAAKxC,MAAMmB,SAC5E,kBAAC,EAAD,CAAYS,eAAgBY,KAAKD,MAAMX,eAAgBT,OAAQqB,KAAKxC,MAAMmB,OAAQY,gBAAiBS,KAAKL,yBACxG,0BAAMhC,UAAWC,IAAOqC,SACnBD,KAAKxC,MAAMC,e,GAxBbyC,IAAMC,WAqCZC,eANS,SAAAL,GACtB,MAAO,CACLpB,OAAqC,OAA5BoB,EAAMM,KAAKC,KAAKzD,WAIW,KAAzBuD,CAA+BV,G,iCCzC/B,YAAClC,GACZ,IAAI+C,EAAW,KACf,OAAO/C,EAAMjB,MACT,IAAK,YACLgE,EAAa,yBAAK5C,UAAWC,KAAO4C,WACpC,MACA,IAAK,eACLD,EAAa,yBAAK5C,UAAWC,KAAO6C,cACpC,MACA,IAAK,OACLF,EAAa,yBAAK5C,UAAWC,KAAO8C,OACpC,MACA,IAAK,SACLH,EAAa,yBAAK5C,UAAWC,KAAO+C,SAI1C,OAASJ,G,oBCfK,YAAC/C,GAEf,IAAIoD,EAAwBC,OAAOC,KAAKtD,EAAM+C,YAC7CQ,KAAK,SAAAC,GACI,OAAO,YAAIC,MAAMzD,EAAM+C,WAAWS,KAAKD,KAAK,SAACG,EAAEC,GACrD,OACE,kBAAC,GAAD,CAAkBC,IAAKD,EAAQH,EAAGzE,KAAMyE,UAI3CK,QAAQ,SAACC,EAAYC,GACtB,OAAOD,EAAWE,OAAOD,KACxB,IAMD,OAHoC,IAAjCX,EAAsBa,SACvBb,EAAuB,oEAGvB,yBAAKjD,UAAWC,KAAO8D,QACf,kBAAC,GAAD,CAAmBnF,KAAK,cAE7BqE,EACD,kBAAC,GAAD,CAAmBrE,KAAK,mB,wCCxBjB,YAACiB,GAUd,OADAH,QAAQC,IAAIE,EAAMmE,SAEhB,yBAAKhE,UAAWC,KAAOgE,cACnB,yBAAKjE,UAAWC,KAAOiE,OAAQrE,EAAMsE,OACrC,4BAAQnE,UAAWC,KAAOmE,KAAM7D,QARb,SAAC8D,GACxBxE,EAAMyE,IAAIzE,EAAMjB,OAOiD2F,SAAU1E,EAAMmE,SAA7E,QACA,4BAAQhE,UAAWC,KAAOuE,KAAMjE,QAbhB,SAAC8D,GACrBxE,EAAM4E,IAAI5E,EAAMjB,QAYZ,UCbF8F,GAAS,CACX,CAACP,MAAM,QAASvF,KAAK,SACrB,CAACuF,MAAM,SAAUvF,KAAK,UACtB,CAACuF,MAAM,QAASvF,KAAK,SACrB,CAACuF,MAAM,OAAQvF,KAAK,SAIT,YAACiB,GACd,IAAI8E,EAAU9E,EAAMmB,OAAQ,aAAe,mBAC3C,OACE,yBAAKhB,UAAWC,KAAO2E,eACrB,6CAAkB,gCAAS/E,EAAMgF,MAAMC,QAAQ,KAC5CJ,GAAStB,KAAI,SAAA2B,GACV,OAAS,kBAAC,GAAD,eAActB,IAAKsB,EAAEZ,OAAWY,EAAhC,CAAmCf,QAASnE,EAAMmF,aAAaD,EAAEnG,MAAQ6F,IAAK5E,EAAMoF,cAAeX,IAAKzE,EAAMqF,oBAG3H,4BAAQlF,UAAWC,KAAOkF,YAAa5E,QAASV,EAAMuF,QAASb,UAAW1E,EAAMwF,aAC7EV,K,oBClBI,YAAC9E,GACd,IAAIyF,EAAe,CACjBC,UAAW1F,EAAMuB,KAAO,gBAAkB,qBAC1CoE,QAAS3F,EAAMuB,KAAO,IAAI,KAE5B,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAUA,KAAMvB,EAAMuB,KAAME,QAASzB,EAAM4F,OAC3C,yBAAKC,MAAOJ,EAActF,UAAWC,KAAO0F,OACzC9F,EAAMC,Y,oBCXA,SAAS8F,GAAO/F,GAC7B,OACE,4BAAQU,QAASV,EAAMyB,QAAStB,UAAW,CAACC,KAAO2F,OAAQ3F,KAAOJ,EAAMjB,OAAOkD,KAAK,KAAMyC,UAA2B,EAAjB1E,EAAM0E,UACrG1E,EAAMC,UCHA,gBAACD,GAAW,IAChBgG,EAAchG,EAAdgG,YACHC,EAAqB5C,OAAOC,KAAK0C,GAAazC,KAAK,SAAAR,GACnD,OAAQ,sCAAQA,EAAR,cAAwBiD,EAAYjD,IAApC,QAEd,OACE,6BACI,0CACA,gFACA,4BAEKkD,GAGL,2BAAG,gDAAsBjG,EAAMgF,MAAMC,QAAQ,KAC7C,qDAEA,kBAACc,GAAD,CAAQtE,QAASzB,EAAMkG,iBAAkBnH,KAAK,UAA9C,UACA,kBAACgH,GAAD,CAAQtE,QAASzB,EAAMmG,mBAAoBpH,KAAK,WAAhD,c,oBClBO,SAASqH,KACtB,OACE,oCACA,yBAAKjG,UAAWC,KAAOiG,QAAvB,eCDW,SAASC,GAAiB3D,EAAWhE,GAElD,mBAGM,aAAc,IAAD,8BACT,+CAoBJ4H,kBAAkB,WACd,EAAKnE,SAAS,CAACnD,MAAM,QApBrB,EAAKsD,MAAM,CACPtD,MAAM,MAEV,EAAKuH,eAAiB7H,EAAM8H,aAAaC,SAASC,KAAK,SAAAC,GAAG,OAAIA,KAAK,SAACC,GAChE,EAAKzE,SAAS,CAACnD,MAAM4H,OAGzB,EAAKC,eAAiBnI,EAAM8H,aAAaM,QAAQJ,KAAI,SAACK,GAElD,OADA,EAAK5E,SAAS,CAACnD,MAAM,OACd+H,KAXF,EAHnB,sHA4BU,OACI,kBAAC,EAAD,KACI,kBAAC,GAAD,CAAOzF,KAAMiB,KAAKD,MAAMtD,MAAO2G,KAAMpD,KAAK+D,mBACtC,2BAAI/D,KAAKD,MAAMtD,MAAOuD,KAAKD,MAAMtD,MAAM6F,QAAU,OAErD,kBAACnC,EAAcH,KAAKxC,YAjCtC,GACkB0C,IAAMC,W,mOCanBsE,G,2MACL1E,MAAM,CACJiD,aAAY,EACZ0B,YAAW,EACXC,SAAQ,G,EASVC,qBAAqB,SAACrE,GACpB,EAAK/C,MAAMoF,cAAcrC,GACzB,EAAKsE,oBAAoB,EAAKrH,MAAMgG,c,EAUtCsB,wBAAwB,SAACvE,GACvB,GAA0C,IAAvC,EAAK/C,MAAMgG,YAAYjD,GACxB,OAAO,KAET,EAAK/C,MAAMuH,iBAAiBxE,I,EAW9BsE,oBAAoB,SAACrB,GAOnB,OANU3C,OAAOC,KAAK0C,GAAazC,KAAK,SAAAiE,GACtC,OAAOxB,EAAYwB,MAClB3D,QAAQ,SAAC4D,EAAKC,GACf,OAAOD,EAAMC,IACZ,I,EAKLR,WAAW,WACN,EAAKlH,MAAMmB,OACZ,EAAKiB,UAAU,SAAAE,GAAQ,MAAI,CAAC4E,YAAY,MAExC,EAAKlH,MAAM2H,QAAQC,KAAK,U,EAI5B1B,iBAAiB,WACf,EAAK9D,UAAU,SAAAE,GAAQ,MAAI,CAAC4E,YAAY,O,EAI1Cf,mBAAmB,WAEjB,EAAKnG,MAAM6H,eAEX,EAAK7H,MAAM2H,QAAQC,KAAK,c,mFA1DxBpF,KAAKxC,MAAM8H,oB,+BA+DX,IAAI3C,E,2WAAa,CAAD,GAAM3C,KAAKxC,MAAMgG,aAC7B+B,EAASvF,KAAKxC,MAAMf,MAAQ,0DAAqC,kBAAC,GAAD,MACjE+I,EAAe,KAEnB,IAAK,IAAIpE,KAAOuB,EACdA,EAAavB,GAAMuB,EAAavB,IAAQ,EA6B1C,OA1BGpB,KAAKD,MAAM4E,UACZa,EAAc,kBAAC,GAAD,OAGbxF,KAAKxC,MAAMgG,cAEZ+B,EAAW,kBAAC,EAAD,KACN,kBAAC,GAAD,CAAQhF,WAAYP,KAAKxC,MAAMgG,cAC/B,kBAAC,GAAD,CACIZ,cAAe5C,KAAK4E,qBACpB/B,cAAe7C,KAAK8E,wBACpBnC,aAAcA,EACdH,MAAOxC,KAAKxC,MAAMiI,WAClBzC,YAAahD,KAAK6E,oBAAoB7E,KAAKxC,MAAMgG,aACjDT,QAAS/C,KAAK0E,WACd/F,OAAQqB,KAAKxC,MAAMmB,UAG5B6G,EAAe,kBAAC,GAAD,CACThC,YAAaxD,KAAKxC,MAAMgG,YACxBE,iBAAkB1D,KAAK0D,iBACvBC,mBAAoB3D,KAAK2D,mBACzBnB,MAAOxC,KAAKxC,MAAMiI,cAKxB,kBAAC,EAAD,KACI,kBAAC,GAAD,CAAO1G,KAAMiB,KAAKD,MAAM2E,WAAYtB,KAAMpD,KAAK0D,kBAC1C8B,GAEAD,O,GA/GcpF,aAwIdC,gBAlBS,SAAAL,GACtB,MAAO,CACLyD,YAAazD,EAAMwF,OAAO/B,YAC1BiC,WAAY1F,EAAMwF,OAAOE,WACzBhJ,MAAOsD,EAAMwF,OAAO9I,MACpBkC,OAAmC,OAA3BoB,EAAMM,KAAKC,KAAKzD,YAIF,SAAA6I,GACxB,MAAO,CACL9C,cAAe,SAACrC,GAAD,OAAcmF,EChJJ,SAACnF,GAC1B,MAAO,CACHhE,KpBPsB,iBoBQtBG,QAAQ6D,GD6I0BoF,CAAsBpF,KAC5DwE,iBAAkB,SAACxE,GAAD,OAAcmF,EC1IJ,SAACnF,GAC7B,MAAQ,CACJhE,KpBbyB,oBoBczBG,QAAQ6D,GDuI6BoF,CAAyBpF,KAClE+E,gBAAiB,kBAAKI,GCnHf,SAAAA,GACHvJ,IAAMyJ,IAAI,6DACTC,MAAM,SAAArC,GACHkC,EAlBA,CACJnJ,KpBpBsB,iBoBqBtBG,QAgB4B8G,EAnBXsC,UAqBhBC,OAAO,SAAA1B,GAEJqB,EAhBQ,SAAErB,GAElB,MAAQ,CACJ9H,KpB3BmB,eoB4BnBG,QAAS2H,GAYI2B,CAAY3B,WD6G7BgB,aAAc,kBAAKK,EEjHb,CACFnJ,KrB9BkB,oBmBkJX6D,CAA4C6F,GAAiBxB,GAAetI,I,oBGvJ5E,SAAS+J,GAAgB1I,GACtC,OACE,oCACI,yBAAKG,UAAWC,KAAOuI,iBACnB,2CACA,yBAAK9C,MAAO,CAAC+C,MAAM,QAASC,OAAO,SAC/B,kBAAC,GAAD,CAAQ9F,WAAY/C,EAAM+C,cAG9B,kBAAC,GAAD,CAAQtB,QAASzB,EAAM8I,kBAAmB/J,KAAK,UAA/C,UACA,kBAAC,GAAD,CAAQ0C,QAASzB,EAAM+I,iBAAkBhK,KAAK,WAA9C,a,wBCbG,SAASiK,GAAMhJ,GAAQ,IAE3BjB,EAWsBiB,EAXtBjB,KACFkK,EAUwBjJ,EAVxBiJ,YACCC,EASuBlJ,EATvBkJ,KACCC,EAQsBnJ,EARtBmJ,QACC7E,EAOqBtE,EAPrBsE,MACC8E,EAMoBpJ,EANpBoJ,QACCC,EAKmBrJ,EALnBqJ,MACCC,EAIkBtJ,EAJlBsJ,MACCC,EAGiBvJ,EAHjBuJ,WACCC,EAEgBxJ,EAFhBwJ,QACCC,EACezJ,EADfyJ,KACCC,EAAc1J,EAAd0J,WAEXC,EAAe,KAEfC,EAAe,CAACxJ,KAAOyJ,cAW3B,QARKP,GAASC,GAAcC,GACxBI,EAAahC,KAAKxH,KAAO0J,SAGzBJ,GACAE,EAAahC,KAAKxH,KAAO2J,YAGtBhL,GACH,IAAK,OACD4K,EAAiB,2BAAOK,SAAUZ,EAASa,OAAQR,EAAMtJ,UAAWyJ,EAAa3H,KAAK,KAAMlD,KAAMA,EAAMsK,MAAOA,EAAOH,KAAMA,EAAMD,YAAaA,IAC/I,MAEJ,IAAK,WACAU,EAAiB,8BAAUK,SAAUZ,EAASjJ,UAAWyJ,EAAa3H,KAAK,KAAMlD,KAAMA,EAAMsK,MAAOA,EAAQH,KAAMA,EAAMD,YAAaA,IACtI,MAEJ,IAAK,SACLU,EAAiB,4BAAQK,SAAUZ,EAASjJ,UAAWyJ,EAAa3H,KAAK,KAAOlD,KAAMA,EAAMsK,MAAOA,EAAQH,KAAMA,GACxFC,EAAQ5F,KAAK,SAAA2G,GAAC,OAAK,4BAAQb,MAAOa,EAAGtG,IAAKsG,GAAIA,OAEnE,MAEJ,QACIP,EAAiB,2BAAOK,SAAUZ,EAASa,OAAQR,EAAMtJ,UAAWyJ,EAAa3H,KAAK,KAAMlD,KAAMA,EAAMsK,MAAOA,EAAOH,KAAMA,EAAMD,YAAaA,IAGzJ,OACE,oCACI,yBAAK9I,UAAWC,KAAO4I,OACnB,2BAAO7I,UAAWC,KAAOiE,OAASC,GACjCqF,I,wBCrDAQ,GAAa,SAACjB,EAAMnK,EAAMkK,EAAaI,GAA0C,IAAnCF,EAAkC,uDAA1B,KAAMI,EAAoB,uDAAT,KAChF,MACI,CACIxK,KAAMA,EACNkK,YAAaA,EACbI,MAAOA,EACPH,KAAKA,EACLC,QAASA,EACTI,WAAYA,EACZD,OAAOC,EACPC,SAAS,EACTY,OAAO,EACPV,YAAW,I,ilBCDhBW,G,YACH,aAAc,IAAD,8BACT,+CAYJC,cAAe,SAAC9F,GACdA,EAAE+F,iBAEJ,IAAMC,EAAW,GAEjB,IAAK,IAAIC,KAAY,EAAKlI,MAAMmI,KAC9BF,EAAUC,GAAY,EAAKlI,MAAMmI,KAAKD,GAAUpB,MAN9B,MASqB,EAAKrJ,MACxC2K,EAAM,CACV3E,YAXkB,EASbA,YAGLiC,WAZkB,EASAA,WAIlBuC,YACAnL,QAdkB,EASYA,SAOhC,EAAKW,MAAM4K,kBAAkBD,IA7BhB,EAgCbE,iBAAiB,YAAa,IAAXC,EAAU,EAAVA,OACjBjL,QAAQC,IAAI,QACZ,IAAMiL,EAAU,MAAO,EAAKxI,MAAMmI,MAC9BM,EAAW,MACPD,EAAWD,EAAO5B,MADX,CAEVM,SAAS,IAGVuB,EAAWD,EAAO5B,MAAQ8B,EAE9B,EAAK5I,SAAU,CAACsI,KAAKK,KA1CV,EA8CbE,oBAAqB,YAAa,IAAXH,EAAU,EAAVA,OACfC,EAAU,MAAO,EAAKxI,MAAMmI,MAC9BM,EAAW,MACPD,EAAWD,EAAO5B,MADX,CAEVG,MAAMyB,EAAOzB,MACbe,OAAM,IAGXY,EAAY1B,MAAQ,EAAK4B,cAAcJ,EAAOzB,MAAO0B,EAAWD,EAAO5B,MAAMK,YAC7EyB,EAAYtB,WAAasB,EAAY1B,OAAS0B,EAAYxB,QAC1DuB,EAAWD,EAAO5B,MAAQ8B,EAG1B,EAAK5I,SAAU,CAACsI,KAAKK,KAzDnB,EAAKxI,MAAM,CACRmI,KAAK,CACHxB,KAAMiB,GAAY,OAAQ,OAAQ,YAAa,GAAI,KAAM,CAAEgB,UAAS,EAAMC,UAAU,IACpFC,MAAOlB,GAAY,QAAS,QAAS,aAAc,GAAI,KAAM,CAAEgB,UAAS,EAAMC,UAAU,IACxFE,OAAQnB,GAAY,SAAU,OAAQ,eAAgB,GAAI,KAAM,CAAEgB,UAAS,EAAMC,UAAU,IAC3FG,OAAQpB,GAAY,SAAU,OAAQ,gBAAiB,GAAI,KAAM,CAAEgB,UAAS,EAAMC,UAAU,IAC5FI,eAAgBrB,GAAY,iBAAkB,SAAU,gBAAiB,GAAI,CAAC,UAAW,eARrF,E,2EA8DCd,EAAOoC,GACnB,IAAIC,GAAS,EAEb,OAAID,GAGEA,EAAMN,WACRO,EAA2B,KAAjBrC,EAAMsC,QAAiBD,GAG/BD,EAAML,YACRM,EAAUrC,EAAMpF,QAAUwH,EAAML,WAAaM,GAE1CA,GATEA,I,+BAYH,IAAD,OACHE,GAAc,EAGlB,IAAI,IAAIC,KAASrJ,KAAKD,MAAMmI,KAC1BkB,EAAcpJ,KAAKD,MAAMmI,KAAKmB,GAAOvC,OAASsC,EAEhD,IAAIE,EAAa,GACjB,IAAK,IAAItI,KAAKhB,KAAKD,MAAMmI,KAAK,CAC5B,IAAImB,EAAOrJ,KAAKD,MAAMmI,KAAKlH,GAC3BsI,EAAWlE,KAAX,MAAoBiE,EAApB,CAA2BjI,IAAIiI,EAAM3C,KAAM5E,MAAMuH,EAAM3C,QAGzD,IAAIwB,EACI,0BAAMqB,SAAUvJ,KAAK8H,eAEjBwB,EAAWvI,KAAK,SAAA+E,GACd,OAAO,kBAACU,GAAD,iBAAWV,EAAX,CAAiBc,QAAS,EAAK6B,oBAAqBxB,KAAM,EAAKoB,uBAK1E,kBAAC9E,GAAD,CAAQhH,KAAK,UAAU2F,UAAWkH,GAAlC,aAOV,OAHGpJ,KAAKxC,MAAMmH,UACZuD,EAAU,kBAAC,GAAD,OAGV,oCACE,yBAAKvK,UAAWC,KAAOiK,aACnB,uDACCK,Q,GAhHc/H,aAsIZC,gBAfS,SAAAL,GACtB,MAAQ,CACNyD,YAAazD,EAAMwF,OAAO/B,YAC1BiC,WAAY1F,EAAMwF,OAAOE,WACzBd,QAAS5E,EAAMoI,MAAMxD,QACrB9H,QAASkD,EAAMM,KAAKC,KAAKzD,YAID,SAAA6I,GAC1B,MAAS,CACL0C,kBAAoB,SAACD,GAAD,OAAWzC,GJvHNsC,EIuHsCG,EJtHjE9K,QAAQC,IAAI0K,GACJ,SAAAtC,GAEJA,EARG,CACHnJ,KrBV6B,2BqBkB7BJ,EAAMqN,KAAN,4BAAgCxB,EAAUnL,SAAWmL,GACpDnC,MAAM,SAAAzB,GACHsB,EAzBA,CACJnJ,KrBE+B,2BqBD/BG,QAuBoC0H,EA1BJ0B,UA4B/BC,OAAO,SAAA1B,GACJqB,EAtBuB,SAACrB,GAChC,MAAQ,CACJ9H,KrBJ4B,wBqBK5BG,QAAS2H,GAmBIoF,CAAoBpF,UAVX,IAAC2D,MI2HhB5H,CAAgDyH,ICzIzD6B,G,2MAOJC,yBAA0B,WACxB,EAAKnM,MAAM2H,QAAQyE,U,EAErBC,wBAAyB,WACvB,EAAKrM,MAAM2H,QAAQ2E,QAAQ,2B,EAG7BjF,oBAAoB,SAACrB,GAEnB,QAAIA,GAGM3C,OAAOC,KAAK0C,GAAazC,KAAK,SAAAiE,GACtC,OAAOxB,EAAYwB,MAClB3D,QAAQ,SAAC4D,EAAKC,GACf,OAAOD,EAAMC,IACZ,GAEU,G,oFArBblF,KAAKxC,MAAMuM,gB,+BAwBX,OAAI/J,KAAK6E,oBAAoB7E,KAAKxC,MAAMgG,cAAgBxD,KAAKxC,MAAMwM,UAClEhK,KAAKxC,MAAM2H,QAAQ2E,QAAQ,KACpB,MAKN,oCACE,6BACI,kBAAC,GAAD,CACMvJ,WAAYP,KAAKxC,MAAMgG,YACvB8C,kBAAmBtG,KAAK2J,yBACxBpD,iBAAkBvG,KAAK6J,0BAE7B,kBAAC,IAAD,CAAOI,KAAI,yBAA6BC,OAAS,SAAC1M,GAC9C,OAAS,kBAAC,GAAgBA,Y,GA3CnB2C,aAkERC,gBAdS,SAAAL,GACtB,MAAQ,CACNyD,YAAazD,EAAMwF,OAAO/B,YAC1BiC,WAAY1F,EAAMwF,OAAOE,WACzBuE,SAAUjK,EAAMoI,MAAM6B,aAIC,SAAAtE,GACzB,MAAO,CACLqE,YAAa,kBAAKrE,EL/BZ,CACFnJ,KrB9BkB,oB0BgEX6D,CAA6CsJ,I,oBCvE7C,SAASS,GAAM3M,GAGqCA,EAA1D4M,QAA0D5M,EAAjD6M,eAAiD7M,EAAjCqL,MAHI,IAGGrF,EAA0BhG,EAA1BgG,YAAaiC,EAAajI,EAAbiI,WAEhD6E,EAAkB,GAEtB,IAAI,IAAIC,KAAkB/G,EACxB8G,EAAiBlF,KAAK,CAACsB,KAAK6D,EAAgBC,OAAQhH,EAAY+G,KAGlE,IAAME,EACJH,EAAiBvJ,KAAK,SAAA2J,GACpB,OAAS,0BAAM/M,UAAWC,KAAO+M,eAAgBD,EAAGhE,KAA3C,KAAmDgE,EAAGF,OAAtD,QAGb,OACE,oCACI,yBAAK7M,UAAWC,KAAOuM,OACnB,6CAAmBM,EAAnB,KACA,qCAAWG,OAAOC,WAAWpF,GAAYhD,QAAQ,GAAjD,O,ICZLqI,G,4LAGH9K,KAAKxC,MAAMuN,YAAY/K,KAAKxC,MAAMwN,S,+BAKlC,IAAI7C,EAAUnI,KAAKxC,MAAMyN,OAAOlK,KAAI,SAAAoH,GAChC,OAAQ,kBAACgC,GAAD,eAAO/I,IAAK+G,EAAM+C,IAAQ/C,OAOtC,OAHGnI,KAAKxC,MAAM2N,YACZhD,EAAO,kBAAC,GAAD,OAGP,oCAEA,yBAAKxK,UAAU,IACXwK,Q,GApBYhI,aA2CPC,gBATS,SAACL,GACvB,MAAQ,CACNiL,MAAOjL,EAAMM,KAAKC,KAAKzD,QACvBoO,OAAQlL,EAAMoI,MAAM8C,OACpBG,UAAWrL,EAAMoI,MAAMxD,YAVA,SAACe,GAC1B,MAAQ,CACNqF,YAAa,SAACC,GAAD,OAAUtF,EPqBD,SAACsF,GAEvB,OAAQ,SAAAtF,GACJA,EAPG,CACHnJ,KrB5CwB,qBqBmDxBJ,EAAMyJ,IAAI,qBAAuBoF,GAChCnF,MAAM,SAAAoF,GACH,IAAII,EAAc,GAElB,IAAK,IAAIlD,KAAS8C,EAAOnF,KACrBuF,EAAYjG,KAAK6F,EAAOnF,KAAKqC,IAEjCzC,EA7Bc,SAACuF,GACzB,MAAQ,CACF1O,KrBjC0B,qBqBkC1BG,QAASuO,GA0BIK,CAAkBD,OAE9BtF,OAAO,SAAA1B,GACJqB,EAzBU,SAACrB,GACnB,MAAQ,CACJ9H,KrBvCuB,kBqBwCvBG,QAAS2H,EAAI/B,SAsBAiJ,CAAelH,QOnCAsB,CAAmBqF,QAaxC5K,CAA6C6F,GAAiB6E,GAAQ3O,I,qmBC3C/EqP,G,YACJ,WAAYhO,GAAQ,IAAD,8BACjB,+CAqCF6K,iBAAmB,YAAiB,IAAdC,EAAa,EAAbA,OACpBjL,QAAQC,IAAI,QACZ,IAAMiL,EAAU,MAAQ,EAAKxI,MAAMmI,MAC/BM,EAAW,MACVD,EAAWD,EAAO5B,MADR,CAEbM,SAAS,IAGXuB,EAAWD,EAAO5B,MAAQ8B,EAE1B,EAAK5I,SAAS,CAAEsI,KAAMK,KAhDL,EAmDnBE,oBAAsB,YAAiB,IAAdH,EAAa,EAAbA,OACvBjL,QAAQC,IAAI,SACZ,IAAMiL,EAAU,MAAQ,EAAKxI,MAAMmI,MAC/BM,EAAW,MACVD,EAAWD,EAAO5B,MADR,CAEbG,MAAOyB,EAAOzB,MACde,OAAO,IAGTY,EAAY1B,MAAQ,EAAK4B,cACvBJ,EAAOzB,MACP0B,EAAWD,EAAO5B,MAAMK,YAE1ByB,EAAYtB,WAAasB,EAAY1B,OAAS0B,EAAYxB,QAC1DuB,EAAWD,EAAO5B,MAAQ8B,EAE1B,EAAK5I,SAAS,CAAEsI,KAAMK,KAnEL,EAsEnBkD,aAAe,SAAAzJ,GACbA,EAAE+F,iBACF1K,QAAQC,IAAI,UAFM,MAGU,EAAKyC,MAAMmI,KAA/BW,EAHU,EAGVA,MAAO6C,EAHG,EAGHA,SACf,EAAKlO,MAAM6C,KAAKwI,EAAMhC,MAAO6E,EAAS7E,MAAO,EAAK9G,MAAM4L,WA1EvC,EA8EnBC,sBAAwB,WACtB,EAAKhM,UAAS,SAAAiM,GACZ,MAAO,CACLF,UAAWE,EAAUF,cA/EzB,EAAK5L,MAAQ,CACXmI,KAAM,CACJW,MAAOlB,GAAY,QAAS,QAAS,eAAgB,GAAI,KAAM,CAC7DgB,UAAU,EACVmD,SAAS,IAEXJ,SAAU/D,GAAY,WAAY,WAAY,WAAY,GAAI,KAAM,CAClEgB,UAAU,EACVC,UAAW,KAGf+C,UAAU,GAbK,E,2EAiBL9E,EAAOoC,GACnB,IAAIC,GAAU,EAEd,IAAKD,EACH,OAAOC,EAUT,GARID,EAAMN,WACRO,EAA2B,KAAjBrC,EAAMsC,QAAiBD,GAG/BD,EAAML,YACRM,EAAUrC,EAAMpF,QAAUwH,EAAML,WAAaM,GAG3CD,EAAM6C,QAAS,CAEjB5C,EADS,0JACI6C,KAAKC,OAAOnF,GAAOoF,gBAAkB/C,EAEpD,OAAOA,I,+BAmDC,IAAD,OACHI,EAAa,GACjB,IAAK,IAAItI,KAAKhB,KAAKD,MAAMmI,KAAM,CAC7B,IAAImB,EAAQrJ,KAAKD,MAAMmI,KAAKlH,GAC5BsI,EAAWlE,KAAX,MAAqBiE,EAArB,CAA4BjI,IAAKiI,EAAM3C,KAAM5E,MAAOuH,EAAM3C,QAI5D,IA0BIwF,EA1BA7L,EACF,kBAAC,IAAM8L,SAAP,KACE,0BAAM5C,SAAUvJ,KAAKyL,cAClB,IACAnC,EAAWvI,KAAI,SAAA+E,GACd,OACE,kBAACU,GAAD,iBACMV,EADN,CAEEc,QAAS,EAAK6B,oBACdxB,KAAM,EAAKoB,uBAIjB,kBAAC9E,GAAD,CAAQhH,KAAK,WACVyD,KAAKD,MAAM4L,SAAW,UAAY,WAGvC,kBAACpI,GAAD,CAAQhH,KAAK,UAAU0C,QAASe,KAAK4L,uBAClC,IACA5L,KAAKD,MAAM4L,SACR,yBACA,yBAWV,GAHI3L,KAAKxC,MAAMmH,UACbtE,EAAO,kBAAC,GAAD,OAELL,KAAKxC,MAAMmB,OAAO,CACpB,IAAIyN,EAAcpM,KAAKxC,MAAM6O,WAAa,YAAc,IACxDhM,EAAO,kBAAC,IAAD,CAAUhC,GAAI+N,IAKvB,OAH8B,MAA1BpM,KAAKxC,MAAMf,MAAM6P,OACnBJ,EAAa,wGAGb,yBAAKvO,UAAWC,KAAO4N,MACpBxL,KAAKxC,MAAMf,MAAQyP,EAAa,KAChC7L,O,GAzIUH,IAAMC,WA+JVC,gBATS,SAAAL,GACtB,MAAO,CACL4E,QAAS5E,EAAMM,KAAKsE,QACpBlI,MAAOsD,EAAMM,KAAK5D,MAClB4P,WAAYtM,EAAMwF,OAAOgH,SACzB5N,OAAoC,OAA5BoB,EAAMM,KAAKC,KAAKzD,YAZD,SAAA6I,GACzB,MAAO,CACLrF,KAAM,SAACwI,EAAO6C,EAAUC,GAAlB,OACJjG,E9B1Jc,SAACmD,EAAO6C,EAAUc,GAClC,OAAO,SAAArP,GACH,IAAIsP,EAAW,CACX5D,QACA6C,WACAgB,mBAAkB,GAGlBC,EAAK,wGACLH,IACAG,EAAK,qHAETxQ,IAAMqN,KAAKmD,EAAKF,GACf5G,MAAM,YAAa,IAAXC,EAAU,EAAVA,KACLzI,QAAQC,IAAIwI,GACZ,IAAI8G,EAAiB,IAAIC,MAAK,IAAIA,MAAOC,UAA2B,IAAfhH,EAAKiH,WAC1DhQ,aAAaiQ,QAAQ,UAAWlH,EAAKlJ,SACrCG,aAAaiQ,QAAQ,iBAAkBJ,GAEvCzP,EAAQR,EAAYmJ,EAAKlJ,UACzBO,EAAQF,EAAU6I,EAAKiH,eAE1BhH,OAAM,SAAA1B,GACHhH,QAAQC,IAAI+G,EAAIH,SAAS4B,KAAKrJ,OAC9BU,EAAQX,EAAS6H,EAAIH,SAAS4B,KAAKrJ,WAEvCU,EAAQb,M8BgIDqJ,CAAakD,EAAO6C,EAAUC,QAa9BvL,CAA6CoL,ICvJ5D,IAgBeyB,eAAW7M,aARF,SAAAL,GACtB,MAAO,CACLqL,UAAWrL,EAAMM,KAAKsE,QACtBlI,MAAOsD,EAAMM,KAAK5D,MAClBkC,OAAoC,OAA5BoB,EAAMM,KAAKC,KAAKzD,YAZD,SAAA6I,GACzB,MAAO,CACLwH,SAAU,WACRxH,EAASC,SAaWvF,EA9B1B,SAAgB5C,GACd,IAAIV,EAAS,kBAAC,GAAD,MAUb,OARIU,EAAMmB,OACRvB,YAAW,WACTI,EAAM0P,aACL,KAEHpQ,EAAS,kBAAC,IAAD,CAAUuB,GAAG,MAGjB,oCAAGvB,OCgCZ,IASemQ,eAAW7M,aAJD,SAAAL,GACvB,MAAO,CAACpB,OAAmC,OAA3BoB,EAAMM,KAAKC,KAAKzD,YANP,SAAA6I,GACzB,MAAO,CACLyH,iBAAmB,WAAOzH,GhCyB1BrI,QAAQC,IAAI,gBAER,SAACH,GACG,IAAIP,EAAQG,aAAaqQ,QAAQ,WACjC,GAAIxQ,EAGC,CACD,IAAMgQ,EAAiB,IAAIC,KAAK9P,aAAaqQ,QAAQ,mBAErD,GADA/P,QAAQC,IAAIsP,GACTA,EAAiB,IAAIC,KACpB1P,EAAQL,SACP,CACDK,EAAQR,EAAYC,IACpB,IAAIM,EAAkB0P,EAAeE,WAAW,IAAID,MAAOC,UAC3DzP,QAAQC,IAAIJ,EAAiB,KAC7BD,EAAUC,SAXdG,QAAQC,IAAI,WACZH,EAAQL,YgCxBEsD,EA1C1B,SAAa5C,GAEX0C,IAAMmN,WAAU,WACd7P,EAAM2P,qBACL,CAAC3P,EAAMmB,SAET,IAAI2O,EACF,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOrD,KAAK,QAAS1L,OAAK,EAACgP,UAAW/B,KACtC,kBAAC,IAAD,CAAOvB,KAAK,IAAK1L,OAAK,EAACgP,UAAW9I,KAClC,kBAAC,IAAD,CAAUpG,GAAG,OAgBjB,OAbMb,EAAMmB,SACR2O,EACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOrD,KAAK,YAAYsD,UAAW7D,KACnC,kBAAC,IAAD,CAAOO,KAAK,UAAUsD,UAAWpD,KACjC,kBAAC,IAAD,CAAOF,KAAK,QAAS1L,OAAK,EAACgP,UAAW/B,KACtC,kBAAC,IAAD,CAAOvB,KAAK,UAAU1L,OAAK,EAACgP,UAAWC,KACvC,kBAAC,IAAD,CAAOvD,KAAK,IAAK1L,OAAK,EAACgP,UAAW9I,KAClC,kBAAC,IAAD,CAAUpG,GAAG,QAMnB,kBAAC,EAAD,KACGiP,OChCaG,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,mmBCfN,IAAMC,GAAiB,CACnBC,MAAM,GACNC,MAAM,GACNC,OAAO,GACPC,KAAK,KAGHC,GAAc,CAEhB3K,YAAY,KACZ/G,OAAM,EACNgJ,WAAW,IACX8G,UAAS,GAgDE6B,GA5CA,WAA+B,IAA9BrO,EAA6B,uDAAvBoO,GAAcE,EAAS,uCAEzC,OAAQA,EAAO9R,MACX,IjCrBsB,iBiCuBlB,OAAO,MACAwD,EADP,CAEIyD,YAAY,MAAKzD,EAAMyD,YAAZ,eAA0B6K,EAAO3R,QAAUqD,EAAMyD,YAAY6K,EAAO3R,SAAW,IAC1F+I,WAAY1F,EAAM0F,WAAaqI,GAAiBO,EAAO3R,SACvD6P,UAAS,IAIjB,IjC5BmB,eiC6Bf,OAAO,MACAxM,EADP,CAEItD,OAAM,IAGd,IjCpCyB,oBiCsCrB,OAAO,MACAsD,EADP,CAEIyD,YAAY,MAAKzD,EAAMyD,YAAZ,eAA0B6K,EAAO3R,QAAUqD,EAAMyD,YAAY6K,EAAO3R,SAAW,IAC1F+I,WAAY1F,EAAM0F,WAAaqI,GAAiBO,EAAO3R,SACvD6P,UAAS,IAKjB,IjC9CsB,iBiC+ClB,OAAO,MACAxM,EADP,CAEIyD,YAAa6K,EAAO3R,QACpBD,OAAM,EACNgJ,WAAW,MAGnB,QACE,OAAO1F,I,6kBCvDjB,IAAMoO,GAAe,CACjBlD,OAAO,GACPtG,SAAQ,EACRqF,UAAS,G,6kBCJb,IAAMmE,GAAe,CACnBxJ,SAAS,EACTlI,OAAO,EACP6D,KAAM,CAAEgO,QAAS,KAAMzR,QAAS,KAAM0R,aAAc,OAGhDjS,GAAY,SAAAyD,GAChB,OAAO,MAAKA,EAAZ,CAAmB4E,SAAS,EAAMlI,OAAO,KAGrCE,GAAc,SAACoD,EAAOsO,GAC1B,OAAO,MACFtO,EADL,CAEE4E,SAAS,EACTlI,OAAO,EACP6D,KAAK,MAAM+N,EAAO3R,YAGhBF,GAAW,SAACuD,EAAOsO,GACvB,OAAO,MAAKtO,EAAZ,CAAmB4E,SAAS,EAAOlI,MAAO4R,EAAO3R,WAE7C8R,GAAa,SAACzO,EAAOsO,GACzB,OAAO,MACFtO,EADL,CAEE4E,SAAQ,EACRrE,KAAM,CAAEgO,QAAS,KAAMzR,QAAS,KAAM0R,aAAc,SCnBlDE,GAAWC,aAAgB,CAC7BnJ,OAAQoJ,GACRxG,MFAW,WAAkC,IAAhCpI,EAA+B,uDAAvBoO,GAAcE,EAAS,uCAE5C,OAAQA,EAAO9R,MACX,IlCL+B,2BkCM3B,OAAO,MACAwD,EADP,CAEIkL,OAAO,GAAD,mBAAMlL,EAAMkL,QAAZ,CAAoBoD,EAAO3R,UACjCiI,SAAQ,EACRqF,UAAS,IAGjB,IlCZ4B,wBkCaxB,aACOjK,EADP,CAEI4E,SAAQ,IAGhB,IlCjB6B,yBkCkBzB,aACO5E,EADP,CAEI4E,SAAQ,IAIhB,IlCvBkB,ckCwBd,OAAO,MACA5E,EADP,CAEIiK,UAAS,IAEjB,IlCvBwB,mBkCwBpB,OAAO,MACAjK,EADP,CAEI4E,SAAS,IAGjB,IlC9BuB,kBkC+BvB,OAAO,MACA5E,EADP,CAEI4E,SAAS,IAIb,IlCtC0B,qBkCuCtB,OAAO,MACA5E,EADP,CAEIkL,OAASoD,EAAO3R,QAChBiI,SAAS,IAGjB,QACI,OAAO5E,IEjDfM,KDoBW,WAAmC,IAAlCN,EAAiC,uDAAzBoO,GAAcE,EAAW,uCAC/C,OAAQA,EAAO9R,MACb,InCVqB,amCWnB,OAAOD,GAAUyD,GACnB,InCboB,YmCclB,OAAOvD,GAASuD,EAAOsO,GACzB,InChBuB,emCiBrB,OAAO1R,GAAYoD,EAAOsO,GAC5B,InCdqB,cmCenB,OAAOG,GAAWzO,GACpB,QACE,OAAOA,MC5BP6O,GAAmBlB,OAAOmB,sCAAwCC,KAIzDC,gBAAaN,GAAWG,GAAiBI,aAAiBC,QCRnEC,GAAO,kBAAC,IAAD,CAAgBC,SAAS,kBAAiB,kBAAC,GAAD,OAEvDC,IAASlF,OAAO,kBAAC,IAAD,CAAUmF,MAAOA,IAAQH,IAAiBI,SAASC,eAAe,SLqH5E,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7J,MAAK,SAAA8J,GACjCA,EAAaC,kB","file":"static/js/main.40dfb178.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input_Input__1GU0k\",\"Label\":\"input_Label__2WCxN\",\"InputElement\":\"input_InputElement__2YlY0\",\"Invalid\":\"input_Invalid__38Z4I\",\"WasInvalid\":\"input_WasInvalid__2b38M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"sideDrawer_SideDrawer__1qcX7\",\"Logo\":\"sideDrawer_Logo__2OEYF\",\"Open\":\"sideDrawer_Open__DYeKA\",\"Closed\":\"sideDrawer_Closed__DTEgq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BreadBottom\":\"burgerIngredient_BreadBottom__2zcFK\",\"BreadTop\":\"burgerIngredient_BreadTop__2H7lI\",\"Seeds1\":\"burgerIngredient_Seeds1__Hr5nb\",\"Seeds2\":\"burgerIngredient_Seeds2__TIRgc\",\"Meat\":\"burgerIngredient_Meat__2KBxr\",\"Cheese\":\"burgerIngredient_Cheese__37TLK\",\"Salad\":\"burgerIngredient_Salad__2bMeC\",\"Bacon\":\"burgerIngredient_Bacon__2HBxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControl\":\"buildControl_BuildControl__2jUR5\",\"Label\":\"buildControl_Label__1gzV4\",\"Less\":\"buildControl_Less__2YPP7\",\"More\":\"buildControl_More__1ITES\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"toolbar_Toolbar__1KWfw\",\"Navigation\":\"toolbar_Navigation__3em65\",\"Logo\":\"toolbar_Logo__15UmZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationItem\":\"navigationItem_navigationItem__1c2ih\",\"active\":\"navigationItem_active__3jWHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControls\":\"buildControls_BuildControls__3oif2\",\"OrderButton\":\"buildControls_OrderButton__3JfHj\",\"enable\":\"buildControls_enable__3X01O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__O15RP\",\"Success\":\"button_Success__2n0Bt\",\"Danger\":\"button_Danger__MdhxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Order\":\"order_Order__1XYOM\",\"IngredientBox\":\"order_IngredientBox__2ltvk\"};","module.exports = __webpack_public_path__ + \"static/media/burger-logo.b8503d26.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"logo_Logo__27gsn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerToggle\":\"drawerToggle_DrawerToggle__3IRs4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"navigationItems_NavigationItems__Px0kA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"backdrop_Backdrop__3P5V1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"layout_Content__3MLJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Burger\":\"burger_Burger__2pKbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"modal_Modal__60KW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"spinner_Loader__2wABz\",\"load3\":\"spinner_load3__KTbb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSummary\":\"checkoutSummary_CheckoutSummary__2CoiH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"contactData_ContactData__gpqmt\",\"Input\":\"contactData_Input__enPj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"auth_Auth__3Up0Y\"};","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3k4mJ\",\"App-logo\":\"App_App-logo__1H5EX\",\"App-header\":\"App_App-header__pdj_B\",\"App-link\":\"App_App-link__309-W\"};","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL:'https://mi-proyecto-5192d.firebaseio.com/'\r\n})\r\n\r\nexport default instance;","import * as actions from './actionsTypes';\r\nimport axios from 'axios'\r\n\r\n\r\nexport const auth = (email, password, signIn)=>{\r\n    return dispach => {\r\n        let authData = {\r\n            email,\r\n            password,\r\n            returnSecureToken:true\r\n        }\r\n\r\n        let url ='https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDjk-5N1Sh93rPMGVM8E8DzBm0e9ObdZtc';\r\n        if(!signIn){\r\n            url ='https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDjk-5N1Sh93rPMGVM8E8DzBm0e9ObdZtc';\r\n        }\r\n        axios.post(url, authData)\r\n        .then( ({data}) => {\r\n            console.log(data)\r\n            let expirationDate = new Date(new Date().getTime() + data.expiresIn*1000)\r\n            localStorage.setItem('idToken', data.idToken);\r\n            localStorage.setItem('expirationDate', expirationDate);\r\n\r\n            dispach(authSuccess(data.idToken));\r\n            dispach(checkAuth(data.expiresIn))\r\n        })\r\n        .catch(err =>{\r\n            console.log(err.response.data.error)\r\n            dispach(authFail(err.response.data.error))\r\n        })\r\n        dispach(authStart())\r\n    }\r\n}\r\n\r\nexport const authStart = ()=>{\r\n    return({\r\n        type:actions.AUTH_START\r\n    })\r\n}\r\n\r\nexport const authFail = (error)=>{\r\n    return ({\r\n        type: actions.AUTH_FAIL,\r\n        payload:error\r\n    })\r\n}\r\n\r\nexport const authSuccess = (idToken)=>{\r\n    return ({\r\n        type: actions.AUTH_SUCCESS,\r\n        payload:{tokenId:idToken}\r\n    })\r\n}\r\n\r\nexport const logOut = ()=>{\r\n    localStorage.removeItem('idToken')\r\n    localStorage.removeItem('expirationDate')\r\n\r\n    return ({\r\n        type:actions.AUTH_LOGOUT\r\n    })\r\n}\r\n\r\n// inicia un cronometro para un logout automatico\r\nconst checkAuth= (expirationTime)=>{\r\n  return (dispach)=>{\r\n    setTimeout( ()=>{\r\n        console.log(\"expiracion automatica\")\r\n\r\n        dispach(logOut());\r\n    }, parseInt(expirationTime) * 1000)\r\n  }\r\n}\r\n\r\n// obtiene los datos del local storage para gestionar el estado de autenticacion\r\nexport const authState = () =>{\r\n    console.log(\"checkin auth\")\r\n    return (\r\n        (dispach)=>{\r\n            let idToken=localStorage.getItem('idToken');\r\n            if(!idToken){\r\n                console.log(\"idtoken\")\r\n                dispach(logOut());\r\n            }else{\r\n                const expirationDate = new Date(localStorage.getItem('expirationDate'))\r\n                console.log(expirationDate)\r\n                if(expirationDate < new Date()){\r\n                    dispach(logOut())\r\n                }else{\r\n                    dispach(authSuccess(idToken));\r\n                    let expirationTime = (expirationDate.getTime() -new Date().getTime())\r\n                    console.log(expirationTime / 1000)\r\n                    checkAuth(expirationTime)\r\n                    \r\n                }\r\n            }\r\n        }\r\n    )\r\n}","// Burger Actions\r\nexport const ADD_INGREDIENT = 'ADD_INGREDIENT';\r\nexport const REMOVE_INGREDIENT = 'REMOVE_INGREDIENT';\r\nexport const SET_IGREDIENTS = 'SET_IGREDIENTS';\r\nexport const FETCH_FAILED ='FETCH_FAILED';\r\n\r\n\r\n// Orders Actions\r\nexport const PURCHARSE_BURGER_SUCCESS= 'PURCHARSE_BURGER_SUCCESS';\r\nexport const PURCHARSE_BURGER_FAIL= 'PURCHARSE_BURGER_FAIL';\r\nexport const PURCHARSE_BURGER_START= 'PURCHARSE_BURGER_START';\r\nexport const REDIRECT_ON= \"REDIRECT_ON\";\r\n\r\n// feth orders \r\nexport const FETHC_ORDER_SUCCESS= 'FECT_ORDER_SUCCESS';\r\nexport const FETHC_ORDER_FAIL= 'FECT_ORDER_FAIL';\r\nexport const FETHC_ORDER_START= 'FECT_ORDER_START';\r\n\r\n// Auth \r\n\r\n\r\nexport const AUTH_SUCCESS= 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL= 'AUTH_FAIL';\r\nexport const AUTH_START= 'AUTH_START';\r\n\r\nexport const AUTH_LOGOUT='AUTH_LOGOUT';","export default (props)=> props.children","import React from 'react';\r\nimport BurgerLogo from '../../../assets/images/burger-logo.png';\r\n\r\nimport styles from './logo.module.css';\r\nexport default function Logo() {\r\n  return (\r\n    <div className={styles.Logo}>\r\n        <img src={BurgerLogo}  alt=\"logo\"/>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './drawerToggle.module.css';\r\n\r\nexport default function drawerToggle(props) {\r\n  return (\r\n    <div className={styles.DrawerToggle} onClick={props.toggle}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './navigationItem.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function navigationItem(props) {\r\n  return (\r\n    <li className={styles.navigationItem}>\r\n        <NavLink to={props.link} \r\n                  exact\r\n                  activeClassName={styles.active}>{props.children}</NavLink>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport NavigationItem from './navigationItem/navigationItem'\r\n\r\nimport styles from './navigationItems.module.css';\r\n\r\nexport default function NavigationItems(props) {\r\n\r\n  \r\n  return (\r\n      <ul className={styles.NavigationItems}>\r\n          <NavigationItem link=\"/\"  >Burger Builder</NavigationItem>\r\n          {props.isAuth && \r\n          <NavigationItem link=\"/orders\"   >Orders</NavigationItem>\r\n          }\r\n          {props.isAuth ?\r\n          <NavigationItem link=\"/logout\"   >Log out</NavigationItem>:\r\n          <NavigationItem link=\"/auth\"   >Log in</NavigationItem> \r\n          \r\n           }\r\n\r\n      </ul>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './toolbar.module.css';\r\nimport Logo from './../logo/logo';\r\nimport DrawerToggle from './../sideDrawer/drawerToggle/drawerToggle';\r\nimport NavigationItem from './../navigationItems/navigationItems';\r\n\r\nexport default function Toolbar(props) {\r\n  return (\r\n    <header className={styles.Toolbar}>\r\n        <DrawerToggle toggle={props.toggleSideDrawer} />\r\n        <div className={styles.Logo}>\r\n          <Logo />\r\n        </div>\r\n        <nav className={[styles.Navigation]}>\r\n            <NavigationItem isAuth ={ props.isAuth }/>\r\n        </nav>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './backdrop.module.css'\r\n\r\nexport default (props) => {\r\n  return  props.show ? <div className={styles.Backdrop} onClick={props.clicked}></div> : null;\r\n}\r\n","import React from 'react';\r\nimport Logo from './../logo/logo';\r\nimport NavigationItems from './../navigationItems/navigationItems';\r\nimport BackDrop from './../../UI/backdrop/backdrop'\r\nimport Aux from './../../../hoc/auxComponent'\r\n\r\nimport styles from './sideDrawer.module.css';\r\n\r\nexport default function sideDrawer(props) {\r\n  let showClass = props.showSideDrawer ? styles.Open : styles.Closed;\r\n  \r\n  return (\r\n    <Aux>\r\n      <BackDrop show={props.showSideDrawer} clicked={props.closeSideDrawer}/>\r\n      <div className={[styles.SideDrawer,showClass].join(' ')}>\r\n            <div className={styles.Logo}>\r\n               <Logo /> \r\n            </div>\r\n            <nav>\r\n              <NavigationItems />\r\n            </nav>\r\n      </div>\r\n    </Aux>\r\n  );\r\n}\r\n","\r\nimport React from 'react'\r\nimport Aux from './../../hoc/auxComponent';\r\nimport Toolbar from './../navigation/toolbar/toolbar';\r\nimport SideDrawer from './../navigation/sideDrawer/sideDrawer'\r\nimport styles from './layout.module.css'\r\nimport { connect } from 'react-redux';\r\nclass Layout extends React.Component{\r\n  constructor(){\r\n    super()\r\n    this.state={\r\n      showSideDrawer:false\r\n    }\r\n  }\r\n  closeSideDrawerHandler = ()=>{\r\n    this.setState({showSideDrawer:false})\r\n  }\r\n  toggleSideDrawerHandler = ()=>{\r\n    this.setState( (oldState)=>{\r\n      return {\r\n        showSideDrawer: !oldState.showSideDrawer\r\n      }\r\n    })\r\n  }\r\n render(){\r\n          return (\r\n            <Aux>  \r\n\r\n                  <Toolbar toggleSideDrawer={this.toggleSideDrawerHandler} isAuth={this.props.isAuth} />\r\n                  <SideDrawer showSideDrawer={this.state.showSideDrawer} isAuth={this.props.isAuth} closeSideDrawer={this.closeSideDrawerHandler}/>\r\n                  <main className={styles.Content}>\r\n                      {this.props.children}\r\n                  </main>\r\n            </Aux>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuth : state.auth.user.tokenId !== null\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Layout)\r\n","import React from 'react';\r\nimport styles from './burgerIngredient.module.css'\r\n\r\nexport default (props) => {\r\n    let ingredient=null;\r\n    switch(props.type){\r\n        case('bread-top'):\r\n        ingredient = <div className={styles.BreadTop}></div>\r\n        break;\r\n        case('bread-bottom'):\r\n        ingredient = <div className={styles.BreadBottom}></div>\r\n        break;\r\n        case('meat'):\r\n        ingredient = <div className={styles.Meat}></div>\r\n        break;\r\n        case('cheese'):\r\n        ingredient = <div className={styles.Cheese}></div>\r\n        break;\r\n\r\n    }\r\n  return ( ingredient )\r\n}\r\n","import React, { Component } from 'react';\r\nimport BurgerIngredient from './burgerIngredient/burgerIngredient';\r\n\r\nimport styles from './burger.module.css';\r\n\r\nexport default  (props)=> {\r\n\r\n  let transformedIngredient = Object.keys(props.ingredient)\r\n  .map( i =>{\r\n            return [...Array(props.ingredient[i])].map( (_,index)=>{\r\n      return (\r\n        <BurgerIngredient key={index + i} type={i} />\r\n      )\r\n    })\r\n\r\n  }).reduce( (acumulador, elemt)=>{\r\n    return acumulador.concat(elemt)\r\n  }, [])\r\n  \r\n  \r\n    if(transformedIngredient.length === 0){\r\n      transformedIngredient= <p>please start adding some ingredient!</p>\r\n    }\r\n    return (\r\n      <div className={styles.Burger}>\r\n              <BurgerIngredient  type='bread-top' />\r\n\r\n        {transformedIngredient}\r\n        <BurgerIngredient  type='bread-bottom' />\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n","import React from 'react'\r\nimport  styles  from './buildControl.module.css'\r\n\r\n\r\nexport default (props) => {\r\n  const addClickHandler=(e)=>{\r\n    props.add(props.type)\r\n  }\r\n\r\n  const removeClickHandler=(e)=>{\r\n    props.des(props.type)\r\n  }\r\n\r\n  console.log(props.disable)\r\n  return (\r\n    <div className={styles.BuildControl}>\r\n        <div className={styles.Label}>{props.label}</div>\r\n        <button className={styles.less} onClick={removeClickHandler} disabled={props.disable}>Less</button>\r\n        <button className={styles.More} onClick={addClickHandler}>More</button>\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styles from './buildControls.module.css';\r\nimport BuildControl from './buildControl/buildControl'\r\n\r\n\r\nconst controls=[\r\n    {label:'Salad', type:'salad'},\r\n    {label:'Cheese', type:'cheese'},\r\n    {label:'Bacon', type:'bacon'},\r\n    {label:'Meat', type:'meat'},\r\n\r\n]\r\n\r\nexport default (props) => {\r\n  let message = props.isAuth ?\"Order now!\" : \"Log in to order!\";\r\n  return (\r\n    <div className={styles.BuildControls}>\r\n      <p>Current Price: <strong>{props.price.toFixed(2)}</strong></p>\r\n        {controls.map(c =>{\r\n            return ( <BuildControl key={c.label} {...c} disable={props.disabledInfo[c.type]}  add={props.addIngredient} des={props.desIngredient}/>)\r\n        })}\r\n\r\n        <button className={styles.OrderButton} onClick={props.ordered} disabled={!props.purchasable}>\r\n          {message}\r\n        </button>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './modal.module.css';\r\nimport BackDrop from './../backdrop/backdrop'\r\nimport Aux from '../../../hoc/auxComponent';\r\n\r\nexport default (props) => {\r\n  let inlineStyles = {\r\n    transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n    opacity: props.show ? '1':'0'\r\n  }\r\n  return (\r\n    <Aux>\r\n      <BackDrop show={props.show} clicked={props.hide}/>\r\n      <div style={inlineStyles} className={styles.Modal}>\r\n        {props.children}\r\n      </div>\r\n    </Aux>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './button.module.css'\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button onClick={props.clicked} className={[styles.Button, styles[props.type]].join(' ')} disabled={props.disabled | false}>\r\n        {props.children}\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '../../UI/button/button'\r\n\r\nexport default (props) => {\r\n    const {ingredients}= props;\r\n    let ingredientsList =    Object.keys(ingredients).map( ingredient =>{\r\n        return (<ul>{`${ingredient} : ${ingredients[ingredient]}`} </ul>)\r\n    })\r\n  return (\r\n    <div>\r\n        <h3>Your Order</h3>\r\n        <p>A delicius burger with the following ingredients:</p>\r\n        <ul>\r\n            {\r\n             ingredientsList\r\n            }\r\n        </ul>\r\n        <p><strong>Total Price: {props.price.toFixed(2)}</strong></p>\r\n        <p>Continue to checkout ?</p>\r\n\r\n        <Button clicked={props.cancelPurchasing} type=\"Danger\">Cancel</Button>\r\n        <Button clicked={props.continuePurchasing} type=\"Success\">Continue</Button>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from \"./spinner.module.css\"\r\n\r\nexport default function spinner() {\r\n  return (\r\n    <>\r\n    <div className={styles.Loader}>Loading...</div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Aux from './../auxComponent';\r\nimport Modal from './../../components/UI/modal/modal';\r\n\r\n\r\nexport default function withErrorHandler(Component, axios) {\r\n    \r\n  return (\r\n      class extends React.Component {\r\n      \r\n        constructor(){\r\n            super()\r\n            this.state={\r\n                error:null\r\n            }\r\n            this.resInterceptor = axios.interceptors.response.use( res => res, (err)=>{\r\n                this.setState({error:err})\r\n            })\r\n\r\n            this.reqInterceptor = axios.interceptors.request.use((req)=>{\r\n                this.setState({error:null});\r\n                return req;\r\n            })\r\n        }      \r\n        \r\n        componentWillUnmount(){\r\n            //axios.interceptors.request.reject(this.reqInterceptor);\r\n            //axios.interceptors.response.reject(this.resInterceptor)\r\n\r\n        }\r\n\r\n        closeClickHandler=()=>{\r\n            this.setState({error:null})\r\n        }\r\n          render(){\r\n            return (\r\n                <Aux>\r\n                    <Modal show={this.state.error} hide={this.closeClickHandler}>\r\n                        <p>{this.state.error? this.state.error.message : null}</p>\r\n                    </Modal>\r\n                    <Component {...this.props} />\r\n                </Aux>)\r\n          }\r\n      }\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport axios from '../../axios-orders';\r\n\r\n//components\r\n\r\nimport Aux from './../../hoc/auxComponent';\r\nimport Burger from '../../components/burger/burger';\r\nimport BurgerControls from '../../components/burger/buildControls/buildControls';\r\nimport Modal from '../../components/UI/modal/modal';\r\nimport OrderSummary from '../../components/burger/orderSummary/orderSummary';\r\nimport Spinner from '../../components/UI/spinner/spinner';\r\n\r\nimport WithErrorHandler from './../../hoc/withErrorHandler/withErrorHandler';\r\n\r\n// redux\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as actions from './../../redux/actions/index';\r\n\r\n class BurgerBuilder extends Component {\r\n  state={\r\n    purchasable:false,\r\n    purchasing:false,\r\n    loading:false\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    this.props.initIngredients()\r\n\r\n  }\r\n\r\n  addIngredientHandler=(ingredient)=>{\r\n    this.props.addIngredient(ingredient);\r\n    this.updatePurchaseState(this.props.ingredients)\r\n    /*\r\n    this.setState( (oldState)=>{\r\n      let ingredients={...oldState.ingredients, [ingredient]: oldState.ingredients[ingredient] + 1};\r\n      let totalPrice = oldState.totalPrice + INGREDIENT_PRICE[ingredient];\r\n      this.updatePurchaseState(ingredients)\r\n      return {...oldState, totalPrice, ingredients}\r\n    }) */\r\n  }\r\n\r\n  removeIngredientHandler=(ingredient)=>{\r\n    if(this.props.ingredients[ingredient] === 0){\r\n      return null\r\n    }\r\n    this.props.removeIngredient(ingredient);\r\n   /* this.setState( (oldState)=>{\r\n      let ingredients={...oldState.ingredients, [ingredient]: oldState.ingredients[ingredient] - 1};\r\n      let totalPrice = oldState.totalPrice - INGREDIENT_PRICE[ingredient];\r\n      this.updatePurchaseState(ingredients);\r\n      return {...oldState, totalPrice, ingredients}\r\n    })\r\n\r\n    */\r\n  }\r\n\r\n  updatePurchaseState=(ingredients)=>{\r\n    let sum = Object.keys(ingredients).map( ingKeys =>{\r\n      return ingredients[ingKeys];\r\n    }).reduce( (sum, element)=>{\r\n      return sum + element\r\n    }, 0)\r\n\r\n    return sum;\r\n  }\r\n\r\n  purchasing=()=>{\r\n    if(this.props.isAuth){\r\n      this.setState( oldState=> ({purchasing: true}))\r\n    }else{\r\n      this.props.history.push(\"/auth\");\r\n    }\r\n  }\r\n\r\n  cancelPurchasing=()=>{\r\n    this.setState( oldState=> ({purchasing: false}))\r\n\r\n  }\r\n\r\n  continuePurchasing=()=>{\r\n    \r\n    this.props.initPurchase();\r\n    \r\n    this.props.history.push('/checkout');\r\n  }\r\n\r\n  \r\n  render() {\r\n    let disabledInfo= {...this.props.ingredients};\r\n    let burger = this.props.error ? <p>Ingredients can't be loaded</p> : <Spinner />\r\n    let orderSummary = null\r\n\r\n    for( let key in disabledInfo){\r\n      disabledInfo[key]= disabledInfo[key] <= 0;\r\n    }\r\n\r\n    if(this.state.loading){\r\n      orderSummary= <Spinner />\r\n    }\r\n\r\n    if(this.props.ingredients){\r\n\r\n      burger = ( <Aux>\r\n           <Burger ingredient={this.props.ingredients} />\r\n           <BurgerControls \r\n               addIngredient={this.addIngredientHandler} \r\n               desIngredient={this.removeIngredientHandler}\r\n               disabledInfo={disabledInfo}\r\n               price={this.props.totalPrice}\r\n               purchasable={this.updatePurchaseState(this.props.ingredients)}\r\n               ordered={this.purchasing}\r\n               isAuth={this.props.isAuth}/>\r\n           </Aux>\r\n           );\r\n      orderSummary =(<OrderSummary \r\n            ingredients={this.props.ingredients} \r\n            cancelPurchasing={this.cancelPurchasing} \r\n            continuePurchasing={this.continuePurchasing}\r\n            price={this.props.totalPrice}\r\n        />)\r\n    }\r\n    \r\n    return (\r\n      <Aux>\r\n          <Modal show={this.state.purchasing} hide={this.cancelPurchasing}>\r\n              {orderSummary}\r\n          </Modal>\r\n              {burger}\r\n      </Aux>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    error: state.burger.error,\r\n    isAuth: state.auth.user.tokenId!== null\r\n  }\r\n}\r\n\r\nconst mapDispachToProps = dispatch =>{\r\n  return {\r\n    addIngredient: (ingredient)=>dispatch(actions.addIngredient(ingredient)),\r\n    removeIngredient: (ingredient)=>dispatch(actions.removeIngredient(ingredient)),\r\n    initIngredients: ()=> dispatch(actions.initIngredients()),\r\n    initPurchase: ()=> dispatch(actions.redirectOn())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(WithErrorHandler(BurgerBuilder, axios));\r\n","import * as actions from './actionsTypes'\r\n\r\nimport axios from 'axios';\r\n\r\n// action creators\r\n\r\nexport const addIngredient = (ingredient) =>{\r\n    return({\r\n        type:actions.ADD_INGREDIENT,\r\n        payload:ingredient\r\n    })\r\n}\r\n\r\nexport const removeIngredient = (ingredient) => {\r\n    return ({\r\n        type:actions.REMOVE_INGREDIENT,\r\n        payload:ingredient\r\n    })\r\n}\r\n\r\n\r\nconst setIngredients = ({data})=> {\r\n    return( {\r\n        type: actions.SET_IGREDIENTS,\r\n        payload: data\r\n    })\r\n}\r\n\r\nconst failedFetch = ( err )=>{\r\n    \r\n    return ({\r\n        type: actions.FETCH_FAILED,\r\n        payload: err\r\n    })\r\n}\r\n\r\nexport const initIngredients = () => {\r\n    return dispatch =>{\r\n        axios.get('https://mi-proyecto-5192d.firebaseio.com/ingredients.json')\r\n        .then( ingredients => {\r\n            dispatch(setIngredients(ingredients))\r\n        })\r\n        .catch( err => {\r\n            \r\n            dispatch(failedFetch(err))\r\n        });\r\n        \r\n    }\r\n}","import axios from '../../axios-orders'\r\n\r\nimport * as actions from './actionsTypes'\r\n\r\nexport const purcharseBurgerSuccess = ({data}) => {\r\n    return ({\r\n        type: actions.PURCHARSE_BURGER_SUCCESS,\r\n        payload: data\r\n    })\r\n}\r\n\r\nexport const purcharseBurgerFail = (err) => {\r\n    return ({\r\n        type:actions.PURCHARSE_BURGER_FAIL,\r\n        payload: err\r\n    })\r\n}\r\n\r\nexport const purchaseBurgerStart = ()=> {\r\n    return {\r\n        type:actions.PURCHARSE_BURGER_START,\r\n    }\r\n}\r\nexport const purchaseBurger = (orderData) =>{\r\n    console.log(orderData)\r\n    return( dispatch=>{\r\n\r\n        dispatch(purchaseBurgerStart());\r\n        axios.post(`/orders.json?auth=${orderData.tokenId}`, orderData)\r\n        .then( res => {\r\n            dispatch(purcharseBurgerSuccess(res))\r\n        })\r\n        .catch( err => {\r\n            dispatch(purcharseBurgerFail(err))\r\n        });\r\n    \r\n    })\r\n}\r\n\r\nexport const redirectOn = () => {\r\n    return{\r\n        type: actions.REDIRECT_ON\r\n    }\r\n}\r\n\r\nconst fetchOrderSuccess = (orders) =>{\r\n  return ({\r\n        type: actions.FETHC_ORDER_SUCCESS,\r\n        payload: orders\r\n    })\r\n}\r\n\r\nconst fetchOrderFail= (err) =>{\r\n    return ({\r\n        type: actions.FETHC_ORDER_FAIL,\r\n        payload: err.message\r\n    })\r\n}\r\nconst fetchOrderStart = () => {\r\n    return {\r\n        type:actions.FETHC_ORDER_START\r\n    }\r\n}\r\nexport const fetchOrder = (token) =>{\r\n    \r\n    return( dispatch=>{\r\n        dispatch(fetchOrderStart())\r\n        axios.get('/orders.json?auth=' + token )\r\n        .then( orders => {\r\n            let ordersArray = [];\r\n    \r\n            for( let order in orders.data){\r\n                ordersArray.push(orders.data[order])\r\n            }\r\n            dispatch(fetchOrderSuccess(ordersArray))\r\n        })\r\n        .catch( err => {\r\n            dispatch(fetchOrderFail(err))\r\n        });\r\n    \r\n    })\r\n}","import React from 'react';\r\nimport Burger from './../burger/burger';\r\nimport Buttom from './../UI/button/button';\r\n\r\nimport styles from './checkoutSummary.module.css';\r\n\r\nexport default function checkoutSummary(props) {\r\n  return (\r\n    <>\r\n        <div className={styles.CheckoutSummary}>\r\n            <h1> Enjoy it !</h1>\r\n            <div style={{width:'300px', margin:'auto'}}>\r\n                <Burger ingredient={props.ingredient}/>\r\n            </div>\r\n            \r\n            <Buttom clicked={props.checkoutCancelled} type=\"Danger\">Cancel</Buttom>\r\n            <Buttom clicked={props.checkoutContinue} type=\"Success\">Contiue</Buttom>\r\n\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './input.module.css';\r\n\r\nexport default function Input(props) {\r\n\r\n    const {type,\r\n         placeholder,\r\n          name,\r\n           options,\r\n            label,\r\n             changed,\r\n              value,\r\n               valid,\r\n                validation,\r\n                 touched,\r\n                  blur,\r\n                   wasInvalid} = props;\r\n                   \r\n    let inputElement = null;\r\n    \r\n    let inputClasses = [styles.InputElement];\r\n    \r\n\r\n    if( !valid && validation && touched){\r\n        inputClasses.push(styles.Invalid);\r\n    }\r\n\r\n    if( wasInvalid){\r\n        inputClasses.push(styles.WasInvalid);    \r\n    }\r\n\r\n    switch(type){\r\n        case('text'):\r\n            inputElement = ( <input onChange={changed} onBlur={blur} className={inputClasses.join(' ')} type={type} value={value} name={name} placeholder={placeholder} />);\r\n            break;\r\n            \r\n        case('textarea'):\r\n             inputElement = ( <textarea onChange={changed} className={inputClasses.join(' ')} type={type} value={value}  name={name} placeholder={placeholder} />);\r\n            break;\r\n\r\n        case('select'):\r\n        inputElement = ( <select onChange={changed} className={inputClasses.join(' ')}  type={type} value={value}  name={name}  >\r\n                                {options.map( o => (<option value={o} key={o}>{o}</option>) )}\r\n                        </select>);\r\n            break;\r\n        \r\n        default:\r\n            inputElement = ( <input onChange={changed} onBlur={blur} className={inputClasses.join(' ')} type={type} value={value} name={name} placeholder={placeholder} />);\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <div className={styles.Input}>\r\n            <label className={styles.Label} >{label}</label>\r\n            {inputElement}\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","\r\nexport const createInput= (name, type, placeholder, value, options=null, validation=null ) =>{\r\n    return (\r\n        {\r\n            type: type,\r\n            placeholder: placeholder,\r\n            value: value,\r\n            name:name,\r\n            options: options,\r\n            validation: validation,\r\n            valid: validation ? false : true,\r\n            touched: false,\r\n            dirty: false,\r\n            wasInvalid:false\r\n        }\r\n    )\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../../redux/actions/orders'\r\nimport Spinner from '../../../components/UI/spinner/spinner';\r\n\r\nimport Button from './../../../components/UI/button/button';\r\nimport Input from './../../../components/UI/input/input'\r\n\r\nimport styles from './contactData.module.css';\r\n\r\nimport {createInput} from '../../../helpers/formHelper'\r\n\r\n class ContactData extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n           form:{\r\n             name: createInput('name', 'text', 'Your name', '', null, { required:true, minLength:3}),\r\n             email: createInput('email', 'email', 'Your email', '', null, { required:true, minLength:3}),\r\n             street: createInput('street', 'text', 'Your address', '', null, { required:true, minLength:3}),\r\n             postal: createInput('postal', 'text', 'Your Zip Code', '', null, { required:true, minLength:3}),\r\n             deleveryMethod: createInput('deleveryMethod', 'select', 'Your Zip Code', '', ['Fastesd', 'cheapest'])\r\n           }\r\n        }\r\n    }\r\n\r\n    submitHandler= (e)=>{\r\n      e.preventDefault();\r\n      \r\n    const orderData ={};\r\n\r\n    for (let inputKey in this.state.form){\r\n      orderData[inputKey] = this.state.form[inputKey].value;\r\n    }\r\n    \r\n    const {ingredients, totalPrice, tokenId}=this.props;\r\n    const order={\r\n      ingredients,\r\n      totalPrice,\r\n      orderData,\r\n      tokenId\r\n    }\r\n    this.props.submitContactData(order);\r\n    }\r\n\r\n    inputBlurHandler=({target})=>{\r\n      console.log(\"blur\")\r\n      const updateform = {...this.state.form};\r\n      let updateInput = {\r\n           ...updateform[target.name],\r\n           touched: true\r\n          };\r\n\r\n          updateform[target.name] = updateInput;\r\n          \r\n      this.setState( {form:updateform})\r\n    }\r\n\r\n\r\n    inputChangedHandler= ({target})=>{\r\n      const updateform = {...this.state.form};\r\n      let updateInput = {\r\n           ...updateform[target.name],\r\n           value:target.value,\r\n           dirty:true\r\n          };\r\n\r\n      updateInput.valid = this.checkValidity(target.value, updateform[target.name].validation); \r\n      updateInput.wasInvalid = updateInput.valid && updateInput.touched;\r\n      updateform[target.name] = updateInput;\r\n\r\n      \r\n      this.setState( {form:updateform})\r\n    }\r\n\r\n    checkValidity(value, rules){\r\n      let isValid= true;\r\n      \r\n      if(!rules){\r\n        return isValid;\r\n      }\r\n        if( rules.required){\r\n          isValid = value.trim() !== \"\" && isValid;\r\n        }\r\n\r\n        if( rules.minLength){\r\n          isValid = value.length >= rules.minLength && isValid;\r\n        }\r\n      return isValid;\r\n    }\r\n\r\n  render() {\r\n    let formIsValid = true;\r\n    \r\n    //handling submission state\r\n    for(let input in this.state.form){\r\n      formIsValid = this.state.form[input].valid && formIsValid;\r\n    }\r\n    let inputArray = [];\r\n    for( let i in this.state.form){\r\n      let input =this.state.form[i]\r\n      inputArray.push({...input, key:input.name, label:input.name});\r\n    }\r\n\r\n    let form =(\r\n            <form onSubmit={this.submitHandler}>\r\n              {\r\n                inputArray.map( data => {\r\n                  return(<Input {...data} changed={this.inputChangedHandler} blur={this.inputBlurHandler}/> )\r\n                })\r\n\r\n                \r\n              }\r\n              <Button type=\"Success\" disabled={!formIsValid} >Continue</Button>\r\n            </form>\r\n    )\r\n\r\n    if(this.props.loading){\r\n      form = (  <Spinner />  );\r\n    }\r\n    return (\r\n      <>\r\n        <div className={styles.ContactData}>\r\n            <h4>Enter your contact data</h4>\r\n            {form}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return ({\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    loading: state.order.loading,\r\n    tokenId: state.auth.user.tokenId\r\n  })\r\n}\r\n\r\nconst mapDiscpachtToProps = dispatch => {\r\n  return ( {\r\n      submitContactData : (order) => dispatch(actions.purchaseBurger(order))\r\n  })\r\n}\r\n\r\nexport default connect( mapStateToProps, mapDiscpachtToProps) (ContactData)\r\n","import React, { Component } from 'react';\r\nimport {Route, Redirect} from 'react-router-dom'\r\nimport CheckoutSummary from './../../components/checkoutSummary/checkoutSummary'\r\nimport ContactData from './contactData/contactData';\r\nimport * as actions from './../../redux/actions/index';\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nclass Checkout extends Component {\r\n\r\n\r\n  componentWillMount(){\r\n    this.props.setRedirect();\r\n  }\r\n  \r\n  checkoutCancelledHandler= ()=>{\r\n    this.props.history.goBack();\r\n  }\r\n  checkoutContinueHandler= ()=>{\r\n    this.props.history.replace('/checkout/contact-data');\r\n  }\r\n\r\n  updatePurchaseState=(ingredients)=>{\r\n    \r\n    if(!ingredients){\r\n      return false\r\n    }\r\n    let sum = Object.keys(ingredients).map( ingKeys =>{\r\n      return ingredients[ingKeys];\r\n    }).reduce( (sum, element)=>{\r\n      return sum + element\r\n    }, 0)\r\n\r\n    return sum > 0 ;\r\n  }\r\n  render() {\r\n    if(!this.updatePurchaseState(this.props.ingredients) || this.props.redirect){\r\n     this.props.history.replace('/');\r\n     return null;\r\n    }\r\n    \r\n\r\n    return (\r\n      <>\r\n        <div  >\r\n            <CheckoutSummary  \r\n                  ingredient={this.props.ingredients}  \r\n                  checkoutCancelled={this.checkoutCancelledHandler}\r\n                  checkoutContinue={this.checkoutContinueHandler}/>\r\n\r\n            <Route path={`/checkout/contact-data`}  render={ (props)=>{\r\n                return ( <ContactData {...props} />)\r\n            }} />\r\n        </div>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapstateToProps = state =>{\r\n  return ({\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    redirect: state.order.redirect\r\n  })\r\n}\r\n\r\nconst mapDispachtToProps = dispatch =>{\r\n  return {\r\n    setRedirect: ()=> dispatch( actions.redirectOn())\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispachtToProps)(Checkout);","import React from 'react';\r\n\r\nimport styles from './order.module.css';\r\n\r\nexport default function Order(props) {\r\n\r\n\r\n  const {address, deliverymethod, email, ingredients, totalPrice}= props;\r\n\r\n  let ingredientsArray =[];\r\n\r\n  for(let ingredientName in ingredients){\r\n    ingredientsArray.push({name:ingredientName, amount: ingredients[ingredientName] })\r\n  }\r\n\r\n  const ingredientsOutput = (\r\n    ingredientsArray.map( ig =>{\r\n      return ( <span className={styles.IngredientBox}>{ig.name} ({ig.amount})</span>)\r\n    })\r\n  )\r\n  return (\r\n    <>\r\n        <div className={styles.Order}>\r\n            <p>Ingriedients : {ingredientsOutput} </p>\r\n            <p>Price: {Number.parseFloat(totalPrice).toFixed(2)}$</p>\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Order from './../../components/order/order';\r\nimport Spinner from './../../components/UI/spinner/spinner'\r\n\r\nimport WithErrorHandler from './../../hoc/withErrorHandler/withErrorHandler'\r\nimport {connect} from 'react-redux'\r\n\r\nimport * as actions from './../../redux/actions/index';\r\n\r\nimport axios from './../../axios-orders'\r\n\r\n\r\n class Orders extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.fetchOrders(this.props.token)\r\n  }\r\n  \r\n  render() {\r\n\r\n    let order =  (this.props.orders.map(order => {\r\n        return (<Order key={order.id} {...order} />)\r\n      })\r\n    );\r\n\r\n    if(this.props.isloading){\r\n      order= <Spinner />\r\n    }\r\n    return (\r\n      <>\r\n\r\n      <div className=\"\">\r\n         {order}\r\n      </div>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n  return ({\r\n    fetchOrders: (token)=> dispatch(actions.fetchOrder(token))\r\n  })\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return ({\r\n    token: state.auth.user.tokenId,\r\n    orders: state.order.orders,\r\n    isLoading: state.order.loading\r\n  })\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WithErrorHandler(Orders, axios)) ;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Input from \"./../../components/UI/input/input\";\r\nimport Button from \"./../../components/UI/button/button\";\r\nimport { createInput } from \"./../../helpers/formHelper\";\r\nimport Spinner from \"./../../components/UI/spinner/spinner\";\r\n\r\nimport * as actions from \"./../../redux/actions\";\r\n\r\nimport styles from \"./auth.module.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Auth extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      form: {\r\n        email: createInput(\"email\", \"email\", \"Email Adress\", \"\", null, {\r\n          required: true,\r\n          isEmail: true\r\n        }),\r\n        password: createInput(\"password\", \"password\", \"Password\", \"\", null, {\r\n          required: true,\r\n          minLength: 6\r\n        })\r\n      },\r\n      isSignUp: true\r\n    };\r\n  }\r\n\r\n  checkValidity(value, rules) {\r\n    let isValid = true;\r\n\r\n    if (!rules) {\r\n      return isValid;\r\n    }\r\n    if (rules.required) {\r\n      isValid = value.trim() !== \"\" && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n      isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n\r\n    if (rules.isEmail) {\r\n      let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      isValid = re.test(String(value).toLowerCase()) && isValid;\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  inputBlurHandler = ({ target }) => {\r\n    console.log(\"blur\");\r\n    const updateform = { ...this.state.form };\r\n    let updateInput = {\r\n      ...updateform[target.name],\r\n      touched: true\r\n    };\r\n\r\n    updateform[target.name] = updateInput;\r\n\r\n    this.setState({ form: updateform });\r\n  };\r\n\r\n  inputChangedHandler = ({ target }) => {\r\n    console.log(\"click\");\r\n    const updateform = { ...this.state.form };\r\n    let updateInput = {\r\n      ...updateform[target.name],\r\n      value: target.value,\r\n      dirty: true\r\n    };\r\n\r\n    updateInput.valid = this.checkValidity(\r\n      target.value,\r\n      updateform[target.name].validation\r\n    );\r\n    updateInput.wasInvalid = updateInput.valid && updateInput.touched;\r\n    updateform[target.name] = updateInput;\r\n\r\n    this.setState({ form: updateform });\r\n  };\r\n\r\n  submitHanler = e => {\r\n    e.preventDefault();\r\n    console.log(\"submit\");\r\n    const { email, password } = this.state.form;\r\n    this.props.auth(email.value, password.value, this.state.isSignUp);\r\n  };\r\n\r\n  // for set login or sign up\r\n  switchAuthModeHandler = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        isSignUp: !prevState.isSignUp\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let inputArray = [];\r\n    for (let i in this.state.form) {\r\n      let input = this.state.form[i];\r\n      inputArray.push({ ...input, key: input.name, label: input.name });\r\n    }\r\n\r\n    // auth form\r\n    let auth = (\r\n      <React.Fragment>\r\n        <form onSubmit={this.submitHanler}>\r\n          {\" \"}\r\n          {inputArray.map(data => {\r\n            return (\r\n              <Input\r\n                {...data}\r\n                changed={this.inputChangedHandler}\r\n                blur={this.inputBlurHandler}\r\n              />\r\n            );\r\n          })}\r\n          <Button type=\"Success\">\r\n            {this.state.isSignUp ? \"Sign Up\" : \"Log In\"}\r\n          </Button>\r\n        </form>\r\n        <Button type=\"Success\" clicked={this.switchAuthModeHandler}>\r\n          {\" \"}\r\n          {this.state.isSignUp\r\n            ? \"already have account ?\"\r\n            : \"Create a new account\"}\r\n        </Button>\r\n      </React.Fragment>\r\n    );\r\n    // alert message\r\n    let errorAlert;\r\n\r\n    // checking props \r\n    if (this.props.loading) {\r\n      auth = <Spinner />;\r\n    }\r\n    if (this.props.isAuth){\r\n      let redirectPath= this.props.isBuilding ? \"/checkout\" : \"/\"\r\n      auth = <Redirect to={redirectPath} />\r\n    }\r\n    if (this.props.error.code === 400){\r\n      errorAlert = <p>Ya existe una cuenta con ese email, prueba uno distinto o inicia sesion!</p>;\r\n    }\r\n    return (\r\n      <div className={styles.Auth}>\r\n        {this.props.error ? errorAlert : null}\r\n        {auth}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToprops = dispatch => {\r\n  return {\r\n    auth: (email, password, isSignUp) =>\r\n      dispatch(actions.auth(email, password, isSignUp))\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isBuilding: state.burger.building,\r\n    isAuth: state.auth.user.tokenId !== null\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToprops)(Auth);\r\n","import React from \"react\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"./../../../redux/actions\";\r\nimport Spinner from \"../../../components/UI/spinner/spinner\";\r\n\r\nfunction Logout(props) {\r\n  let logOut = <Spinner />;\r\n\r\n  if (props.isAuth) {\r\n    setTimeout(() => {\r\n      props.onLogout();\r\n    }, 500);\r\n  } else {\r\n    logOut = <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return <>{logOut}</>;\r\n}\r\n\r\nconst mapDsipatchToprops = dispatch => {\r\n  return {\r\n    onLogout: () => {\r\n      dispatch(actions.logOut());\r\n    }\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLoading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isAuth: state.auth.user.tokenId !== null\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDsipatchToprops)(Logout));\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport  styles from './App.module.css';\n\nimport {Route, withRouter, Switch, Redirect} from 'react-router-dom'\n\nimport {connect} from 'react-redux';\nimport * as actions from './redux/actions';\n\nimport Layout from './components/layout/loyout';\nimport BurgerBuilder from './containers/burgerBuilder/burgerBuilder';\nimport Checkout from './containers/checkout/checkout'\nimport Order from './containers/orders/orders';\nimport Auth from './containers/auth/auth'\nimport Logout from './containers/auth/logout/logout';\n\nfunction App(props) {\n\n  React.useEffect(() => {\n    props.onCheckAuthState()\n  }, [props.isAuth])\n\n   let routes = (\n     <Switch>\n      <Route path='/auth'  exact component={Auth}/>\n      <Route path='/'  exact component={BurgerBuilder}/>\n      <Redirect to=\"/\" />\n     </Switch>\n   )\n     if(props.isAuth){\n      routes =(\n        <Switch>\n          <Route path='/checkout' component={Checkout}/> \n          <Route path='/orders' component={Order} />\n          <Route path='/auth'  exact component={Auth}/>\n          <Route path='/logout' exact component={Logout} />\n          <Route path='/'  exact component={BurgerBuilder}/>\n          <Redirect to=\"/\" />\n        </Switch>\n      )\n     }\n\n  return (\n    <Layout>      \n      {routes}\n    </Layout>\n  );\n}\n\nconst mapDispatchToProps = dispatch =>{\n  return {\n    onCheckAuthState : () => {dispatch(actions.authState())}\n  }\n}\nconst mapSatateToProps = state => {\n  return {isAuth: state.auth.user.tokenId !==null}\n}\n\nexport default withRouter(connect(mapSatateToProps, mapDispatchToProps)(App))\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from './../actions/actionsTypes';\r\n\r\n\r\nconst INGREDIENT_PRICE={\r\n    salad:0.5,\r\n    bacon:0.6,\r\n    cheese:0.4,\r\n    meat:1.3\r\n  }\r\n\r\nconst initialState= {\r\n\r\n    ingredients:null,\r\n    error:false,\r\n    totalPrice:4.5,\r\n    building:false,\r\n\r\n}\r\n\r\nconst reducer =(state=initialState, action)=>{\r\n    \r\n    switch (action.type) {\r\n        case actionTypes.ADD_INGREDIENT:\r\n            \r\n            return {\r\n                ...state,\r\n                ingredients: {...state.ingredients, [action.payload]: state.ingredients[action.payload] + 1  },\r\n                totalPrice: state.totalPrice + INGREDIENT_PRICE[action.payload],\r\n                building:true\r\n            };\r\n\r\n        \r\n        case actionTypes.FETCH_FAILED:\r\n            return ({\r\n                ...state,\r\n                error:true\r\n            });\r\n            \r\n        case actionTypes.REMOVE_INGREDIENT:\r\n\r\n            return ({\r\n                ...state,\r\n                ingredients: {...state.ingredients, [action.payload]: state.ingredients[action.payload] - 1  },\r\n                totalPrice: state.totalPrice - INGREDIENT_PRICE[action.payload],\r\n                building:true\r\n\r\n            });\r\n            \r\n\r\n        case actionTypes.SET_IGREDIENTS:\r\n            return ({\r\n                ...state,\r\n                ingredients: action.payload,\r\n                error:false,\r\n                totalPrice:4.5\r\n            })\r\n    \r\n        default:\r\n          return state  \r\n    }\r\n    \r\n}\r\n\r\nexport default reducer;","import * as actions from './../actions/actionsTypes';\r\n\r\n\r\nconst initialState = {\r\n    orders:[],\r\n    loading:false,\r\n    redirect:false\r\n}\r\n\r\n\r\nexport default ( state = initialState, action)=>{\r\n\r\n    switch (action.type) {\r\n        case actions.PURCHARSE_BURGER_SUCCESS:\r\n            return ({\r\n                ...state,\r\n                orders: [...state.orders, action.payload],\r\n                loading:false,\r\n                redirect:true\r\n            })\r\n            break;\r\n        case actions.PURCHARSE_BURGER_FAIL:\r\n            return({\r\n                ...state,\r\n                loading:false\r\n            })\r\n            break;\r\n        case actions.PURCHARSE_BURGER_START:\r\n            return{\r\n                ...state,\r\n                loading:true\r\n            }\r\n            break;     \r\n            \r\n        case actions.REDIRECT_ON:\r\n            return {\r\n                ...state,\r\n                redirect:false\r\n            }\r\n        case actions.FETHC_ORDER_START:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n\r\n            }\r\n        case actions.FETHC_ORDER_FAIL:\r\n        return {\r\n            ...state,\r\n            loading: false,\r\n            \r\n        }\r\n\r\n        case actions.FETHC_ORDER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                orders : action.payload,\r\n                loading: false,\r\n                \r\n            }\r\n        default:\r\n            return state\r\n            break;\r\n    }\r\n}","import * as actions from \"./../actions/actionsTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: false,\r\n  user: { localId: null, tokenId: null, refreshToken: null }\r\n};\r\n\r\nconst authStart = state => {\r\n  return { ...state, loading: true, error: false };\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: false,\r\n    user: { ...action.payload }\r\n  };\r\n};\r\nconst authFail = (state, action) => {\r\n  return { ...state, loading: false, error: action.payload };\r\n};\r\nconst authLogOut = (state, action) => {\r\n  return {\r\n    ...state,\r\n    loading:false,\r\n    user: { localId: null, tokenId: null, refreshToken: null }\r\n  };\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actions.AUTH_START:\r\n      return authStart(state);\r\n    case actions.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actions.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actions.AUTH_LOGOUT:\r\n      return authLogOut(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {createStore, applyMiddleware, compose, combineReducers} from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\n\r\nimport burgerReducer from './reducers/burgerReducer';\r\nimport order from './reducers/orders';\r\nimport authReducer from './reducers/authReducer'\r\n\r\nconst reducers = combineReducers({\r\n    burger: burgerReducer,\r\n    order: order,\r\n    auth: authReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\n\r\nexport default createStore( reducers , composeEnhancers(applyMiddleware( thunk)) );\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\n\nconst app= ( <BrowserRouter  basename='burgerBuilder/'><App /></BrowserRouter>)\n\nReactDOM.render(<Provider store={store}>{app}</Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}