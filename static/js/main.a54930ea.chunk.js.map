{"version":3,"sources":["components/burger/burgerIngredient/burgerIngredient.module.css","components/UI/input/input.module.css","components/navigation/sideDrawer/sideDrawer.module.css","components/burger/buildControls/buildControl/buildControl.module.css","components/navigation/toolbar/toolbar.module.css","components/navigation/navigationItems/navigationItem/navigationItem.module.css","components/burger/buildControls/buildControls.module.css","components/UI/button/button.module.css","components/order/order.module.css","assets/images/burger-logo.png","components/navigation/logo/logo.module.css","components/navigation/sideDrawer/drawerToggle/drawerToggle.module.css","components/navigation/navigationItems/navigationItems.module.css","components/UI/backdrop/backdrop.module.css","components/layout/layout.module.css","components/burger/burger.module.css","components/UI/modal/modal.module.css","components/UI/spinner/spinner.module.css","components/checkoutSummary/checkoutSummary.module.css","containers/checkout/contactData/contactData.module.css","containers/auth/auth.module.css","axios-orders.js","redux/actions/auth.js","redux/actions/actionsTypes.js","hoc/auxComponent.js","components/navigation/logo/logo.js","components/navigation/sideDrawer/drawerToggle/drawerToggle.js","components/navigation/navigationItems/navigationItem/navigationItem.js","components/navigation/navigationItems/navigationItems.js","components/navigation/toolbar/toolbar.js","components/UI/backdrop/backdrop.js","components/navigation/sideDrawer/sideDrawer.js","components/layout/loyout.js","components/burger/burgerIngredient/burgerIngredient.js","components/burger/burger.js","components/burger/buildControls/buildControl/buildControl.js","components/burger/buildControls/buildControls.js","components/UI/modal/modal.js","components/UI/button/button.js","components/burger/orderSummary/orderSummary.js","components/UI/spinner/spinner.js","hoc/withErrorHandler/withErrorHandler.js","containers/burgerBuilder/burgerBuilder.js","redux/actions/burger.js","redux/actions/orders.js","components/checkoutSummary/checkoutSummary.js","components/UI/input/input.js","helpers/formHelper.js","containers/checkout/contactData/contactData.js","containers/checkout/checkout.js","components/order/order.js","containers/orders/orders.js","containers/auth/auth.js","containers/auth/logout/logout.js","App.js","serviceWorker.js","redux/reducers/burgerReducer.js","redux/reducers/orders.js","redux/reducers/authReducer.js","redux/store.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","authStart","type","authFail","error","payload","authSuccess","idToken","tokenId","logOut","localStorage","removeItem","checkAuth","expirationTime","dispach","setTimeout","console","log","parseInt","props","children","Logo","className","styles","src","BurgerLogo","alt","drawerToggle","DrawerToggle","onClick","toggle","navigationItem","to","link","exact","activeClassName","active","NavigationItems","isAuth","Toolbar","toggleSideDrawer","Navigation","show","Backdrop","clicked","sideDrawer","showClass","showSideDrawer","Open","Closed","closeSideDrawer","SideDrawer","join","Layout","closeSideDrawerHandler","setState","toggleSideDrawerHandler","oldState","state","this","Content","React","Component","connect","auth","user","ingredient","BreadTop","BreadBottom","Meat","Cheese","Salad","Bacon","transformedIngredient","Object","keys","map","i","Array","_","index","key","reduce","acumulador","elemt","concat","length","Burger","disable","BuildControl","Label","label","less","e","des","disabled","More","add","controls","message","BuildControls","price","toFixed","c","disabledInfo","addIngredient","desIngredient","OrderButton","ordered","purchasable","inlineStyles","transform","opacity","hide","style","Modal","Button","ingredients","ingredientsList","cancelPurchasing","continuePurchasing","spinner","Loader","withErrorHandler","closeClickHandler","resInterceptor","interceptors","response","use","res","err","reqInterceptor","request","req","BurgerBuilder","purchasing","loading","addIngredientHandler","updatePurchaseState","removeIngredientHandler","removeIngredient","ingKeys","sum","element","history","push","initPurchase","initIngredients","burger","orderSummary","totalPrice","dispatch","actions","get","then","data","catch","failedFetch","WithErrorHandler","checkoutSummary","CheckoutSummary","checkoutCancelled","checkoutContinue","Input","placeholder","name","options","changed","value","valid","validation","touched","blur","wasInvalid","inputElement","inputClasses","InputElement","Invalid","WasInvalid","onChange","onBlur","o","createInput","dirty","checkValidity","rules","isValid","required","trim","minLength","isEmail","test","String","toLowerCase","ContactData","submitHandler","preventDefault","orderData","inputKey","form","order","submitContactData","inputBlurHandler","target","updateform","updateInput","inputChangedHandler","email","street","postal","deleveryMethod","formIsValid","input","inputArray","onSubmit","post","purcharseBurgerFail","Checkout","checkoutCancelledHandler","goBack","checkoutContinueHandler","replace","setRedirect","redirect","path","render","Order","ingredientsArray","ingredientName","amount","ingredientsOutput","ig","IngredientBox","Number","parseFloat","Orders","fetchOrders","token","orders","id","isloading","isLoading","ordersArray","fetchOrderSuccess","fetchOrderFail","Auth","submitHanler","password","isSignUp","switchAuthModeHandler","prevState","errorAlert","Fragment","redirectPath","isBuilding","code","building","signIn","authData","returnSecureToken","url","expirationDate","Date","getTime","expiresIn","setItem","withRouter","onLogout","onCheckAuthState","getItem","useEffect","routes","component","Logout","Boolean","window","location","hostname","match","INGREDIENT_PRICE","salad","bacon","cheese","meat","initialState","reducer","action","localId","refreshToken","authLogOut","reducers","combineReducers","burgerReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","app","basename","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a54930ea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"BreadBottom\":\"burgerIngredient_BreadBottom__2zcFK\",\"BreadTop\":\"burgerIngredient_BreadTop__2H7lI\",\"Seeds1\":\"burgerIngredient_Seeds1__Hr5nb\",\"Seeds2\":\"burgerIngredient_Seeds2__TIRgc\",\"Meat\":\"burgerIngredient_Meat__2KBxr\",\"Cheese\":\"burgerIngredient_Cheese__37TLK\",\"Salad\":\"burgerIngredient_Salad__2bMeC\",\"Bacon\":\"burgerIngredient_Bacon__2HBxo\",\"appear\":\"burgerIngredient_appear__1fAr0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input_Input__1GU0k\",\"Label\":\"input_Label__2WCxN\",\"InputElement\":\"input_InputElement__2YlY0\",\"Invalid\":\"input_Invalid__38Z4I\",\"WasInvalid\":\"input_WasInvalid__2b38M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SideDrawer\":\"sideDrawer_SideDrawer__1qcX7\",\"Logo\":\"sideDrawer_Logo__2OEYF\",\"Open\":\"sideDrawer_Open__DYeKA\",\"Closed\":\"sideDrawer_Closed__DTEgq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControl\":\"buildControl_BuildControl__2jUR5\",\"Label\":\"buildControl_Label__1gzV4\",\"Less\":\"buildControl_Less__2YPP7\",\"More\":\"buildControl_More__1ITES\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"toolbar_Toolbar__1KWfw\",\"Navigation\":\"toolbar_Navigation__3em65\",\"Logo\":\"toolbar_Logo__15UmZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationItem\":\"navigationItem_navigationItem__1c2ih\",\"active\":\"navigationItem_active__3jWHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BuildControls\":\"buildControls_BuildControls__3oif2\",\"OrderButton\":\"buildControls_OrderButton__3JfHj\",\"enable\":\"buildControls_enable__3X01O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__O15RP\",\"Success\":\"button_Success__2n0Bt\",\"Danger\":\"button_Danger__MdhxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Order\":\"order_Order__1XYOM\",\"IngredientBox\":\"order_IngredientBox__2ltvk\"};","module.exports = __webpack_public_path__ + \"static/media/burger-logo.b8503d26.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"logo_Logo__27gsn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DrawerToggle\":\"drawerToggle_DrawerToggle__3IRs4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationItems\":\"navigationItems_NavigationItems__Px0kA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"backdrop_Backdrop__3P5V1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"layout_Content__3MLJZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Burger\":\"burger_Burger__2pKbe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"modal_Modal__60KW3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"spinner_Loader__2wABz\",\"load3\":\"spinner_load3__KTbb9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSummary\":\"checkoutSummary_CheckoutSummary__2CoiH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"contactData_ContactData__gpqmt\",\"Input\":\"contactData_Input__enPj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"auth_Auth__3Up0Y\"};","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL:'https://mi-proyecto-5192d.firebaseio.com/'\r\n})\r\n\r\nexport default instance;","import * as actions from './actionsTypes';\r\nimport axios from 'axios'\r\n\r\n\r\nexport const auth = (email, password, signIn)=>{\r\n    return dispach => {\r\n        let authData = {\r\n            email,\r\n            password,\r\n            returnSecureToken:true\r\n        }\r\n\r\n        let url ='https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDjk-5N1Sh93rPMGVM8E8DzBm0e9ObdZtc';\r\n        if(!signIn){\r\n            url ='https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDjk-5N1Sh93rPMGVM8E8DzBm0e9ObdZtc';\r\n        }\r\n        axios.post(url, authData)\r\n        .then( ({data}) => {\r\n            console.log(data)\r\n            let expirationDate = new Date(new Date().getTime() + data.expiresIn*1000)\r\n            localStorage.setItem('idToken', data.idToken);\r\n            localStorage.setItem('expirationDate', expirationDate);\r\n\r\n            dispach(authSuccess(data.idToken));\r\n            dispach(checkAuth(data.expiresIn))\r\n        })\r\n        .catch(err =>{\r\n            console.log(err.response.data.error)\r\n            dispach(authFail(err.response.data.error))\r\n        })\r\n        dispach(authStart())\r\n    }\r\n}\r\n\r\nexport const authStart = ()=>{\r\n    return({\r\n        type:actions.AUTH_START\r\n    })\r\n}\r\n\r\nexport const authFail = (error)=>{\r\n    return ({\r\n        type: actions.AUTH_FAIL,\r\n        payload:error\r\n    })\r\n}\r\n\r\nexport const authSuccess = (idToken)=>{\r\n    return ({\r\n        type: actions.AUTH_SUCCESS,\r\n        payload:{tokenId:idToken}\r\n    })\r\n}\r\n\r\nexport const logOut = ()=>{\r\n    localStorage.removeItem('idToken')\r\n    localStorage.removeItem('expirationDate')\r\n\r\n    return ({\r\n        type:actions.AUTH_LOGOUT\r\n    })\r\n}\r\n\r\n// inicia un cronometro para un logout automatico\r\nconst checkAuth= (expirationTime)=>{\r\n  return (dispach)=>{\r\n    setTimeout( ()=>{\r\n        console.log(\"expiracion automatica\")\r\n\r\n        dispach(logOut());\r\n    }, parseInt(expirationTime) * 1000)\r\n  }\r\n}\r\n\r\n// obtiene los datos del local storage para gestionar el estado de autenticacion\r\nexport const authState = () =>{\r\n    console.log(\"checkin auth\")\r\n    return (\r\n        (dispach)=>{\r\n            let idToken=localStorage.getItem('idToken');\r\n            if(!idToken){\r\n                console.log(\"idtoken\")\r\n                dispach(logOut());\r\n            }else{\r\n                const expirationDate = new Date(localStorage.getItem('expirationDate'))\r\n                console.log(expirationDate)\r\n                if(expirationDate < new Date()){\r\n                    dispach(logOut())\r\n                }else{\r\n                    dispach(authSuccess(idToken));\r\n                    let expirationTime = (expirationDate.getTime() -new Date().getTime())\r\n                    console.log(expirationTime / 1000)\r\n                    checkAuth(expirationTime)\r\n                    \r\n                }\r\n            }\r\n        }\r\n    )\r\n}","// Burger Actions\r\nexport const ADD_INGREDIENT = 'ADD_INGREDIENT';\r\nexport const REMOVE_INGREDIENT = 'REMOVE_INGREDIENT';\r\nexport const SET_IGREDIENTS = 'SET_IGREDIENTS';\r\nexport const FETCH_FAILED ='FETCH_FAILED';\r\n\r\n\r\n// Orders Actions\r\nexport const PURCHARSE_BURGER_SUCCESS= 'PURCHARSE_BURGER_SUCCESS';\r\nexport const PURCHARSE_BURGER_FAIL= 'PURCHARSE_BURGER_FAIL';\r\nexport const PURCHARSE_BURGER_START= 'PURCHARSE_BURGER_START';\r\nexport const REDIRECT_ON= \"REDIRECT_ON\";\r\n\r\n// feth orders \r\nexport const FETHC_ORDER_SUCCESS= 'FECT_ORDER_SUCCESS';\r\nexport const FETHC_ORDER_FAIL= 'FECT_ORDER_FAIL';\r\nexport const FETHC_ORDER_START= 'FECT_ORDER_START';\r\n\r\n// Auth \r\n\r\n\r\nexport const AUTH_SUCCESS= 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL= 'AUTH_FAIL';\r\nexport const AUTH_START= 'AUTH_START';\r\n\r\nexport const AUTH_LOGOUT='AUTH_LOGOUT';","export default (props)=> props.children","import React from 'react';\r\nimport BurgerLogo from '../../../assets/images/burger-logo.png';\r\n\r\nimport styles from './logo.module.css';\r\nexport default function Logo() {\r\n  return (\r\n    <div className={styles.Logo}>\r\n        <img src={BurgerLogo}  alt=\"logo\"/>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './drawerToggle.module.css';\r\n\r\nexport default function drawerToggle(props) {\r\n  return (\r\n    <div className={styles.DrawerToggle} onClick={props.toggle}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './navigationItem.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function navigationItem(props) {\r\n  return (\r\n    <li className={styles.navigationItem}>\r\n        <NavLink to={props.link} \r\n                  exact\r\n                  activeClassName={styles.active}>{props.children}</NavLink>\r\n    </li>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport NavigationItem from './navigationItem/navigationItem'\r\n\r\nimport styles from './navigationItems.module.css';\r\n\r\nexport default function NavigationItems(props) {\r\n\r\n  \r\n  return (\r\n      <ul className={styles.NavigationItems}>\r\n          <NavigationItem link=\"/\"  >Burger Builder</NavigationItem>\r\n          {props.isAuth && \r\n          <NavigationItem link=\"/orders\"   >Orders</NavigationItem>\r\n          }\r\n          {props.isAuth ?\r\n          <NavigationItem link=\"/logout\"   >Log out</NavigationItem>:\r\n          <NavigationItem link=\"/auth\"   >Log in</NavigationItem> \r\n          \r\n           }\r\n\r\n      </ul>\r\n\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './toolbar.module.css';\r\nimport Logo from './../logo/logo';\r\nimport DrawerToggle from './../sideDrawer/drawerToggle/drawerToggle';\r\nimport NavigationItem from './../navigationItems/navigationItems';\r\n\r\nexport default function Toolbar(props) {\r\n  return (\r\n    <header className={styles.Toolbar}>\r\n        <DrawerToggle toggle={props.toggleSideDrawer} />\r\n        <div className={styles.Logo}>\r\n          <Logo />\r\n        </div>\r\n        <nav className={[styles.Navigation]}>\r\n            <NavigationItem isAuth ={ props.isAuth }/>\r\n        </nav>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './backdrop.module.css'\r\n\r\nexport default (props) => {\r\n  return  props.show ? <div className={styles.Backdrop} onClick={props.clicked}></div> : null;\r\n}\r\n","import React from 'react';\r\nimport Logo from './../logo/logo';\r\nimport NavigationItems from './../navigationItems/navigationItems';\r\nimport BackDrop from './../../UI/backdrop/backdrop'\r\nimport Aux from './../../../hoc/auxComponent'\r\n\r\nimport styles from './sideDrawer.module.css';\r\n\r\nexport default function sideDrawer(props) {\r\n  let showClass = props.showSideDrawer ? styles.Open : styles.Closed;\r\n  \r\n  return (\r\n    <Aux>\r\n      <BackDrop show={props.showSideDrawer} clicked={props.closeSideDrawer}/>\r\n      <div className={[styles.SideDrawer,showClass].join(' ')}>\r\n            <div className={styles.Logo}>\r\n               <Logo /> \r\n            </div>\r\n            <nav onClick={props.closeSideDrawer}>\r\n              <NavigationItems isAuth ={ props.isAuth }/>\r\n            </nav>\r\n      </div>\r\n    </Aux>\r\n  );\r\n}\r\n","\r\nimport React from 'react'\r\nimport Aux from './../../hoc/auxComponent';\r\nimport Toolbar from './../navigation/toolbar/toolbar';\r\nimport SideDrawer from './../navigation/sideDrawer/sideDrawer'\r\nimport styles from './layout.module.css'\r\nimport { connect } from 'react-redux';\r\nclass Layout extends React.Component{\r\n  constructor(){\r\n    super()\r\n    this.state={\r\n      showSideDrawer:false\r\n    }\r\n  }\r\n  closeSideDrawerHandler = ()=>{\r\n    this.setState({showSideDrawer:false})\r\n  }\r\n  toggleSideDrawerHandler = ()=>{\r\n    this.setState( (oldState)=>{\r\n      return {\r\n        showSideDrawer: !oldState.showSideDrawer\r\n      }\r\n    })\r\n  }\r\n render(){\r\n          return (\r\n            <Aux>  \r\n\r\n                  <Toolbar toggleSideDrawer={this.toggleSideDrawerHandler} isAuth={this.props.isAuth} />\r\n                  <SideDrawer showSideDrawer={this.state.showSideDrawer} isAuth={this.props.isAuth} closeSideDrawer={this.closeSideDrawerHandler}/>\r\n                  <main className={styles.Content}>\r\n                      {this.props.children}\r\n                  </main>\r\n            </Aux>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuth : state.auth.user.tokenId !== null\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Layout)\r\n","import React from 'react';\r\nimport styles from './burgerIngredient.module.css'\r\n\r\nexport default (props) => {\r\n    let ingredient=null;\r\n    switch(props.type){\r\n        case('bread-top'):\r\n        ingredient = <div className={styles.BreadTop}></div>\r\n        break;\r\n        case('bread-bottom'):\r\n        ingredient = <div className={styles.BreadBottom}></div>\r\n        break;\r\n        case('meat'):\r\n        ingredient = <div className={styles.Meat}></div>\r\n        break;\r\n        case('cheese'):\r\n        ingredient = <div className={styles.Cheese}></div>\r\n        break;\r\n        case('salad'):\r\n        ingredient = <div className={styles.Salad}></div>\r\n        break;\r\n        case('bacon'):\r\n        ingredient = <div className={styles.Bacon}></div>\r\n        break;\r\n        default:\r\n          return null\r\n\r\n    }\r\n  return ( ingredient )\r\n}\r\n","import React from 'react';\r\nimport BurgerIngredient from './burgerIngredient/burgerIngredient';\r\n\r\nimport styles from './burger.module.css';\r\n\r\nexport default  (props)=> {\r\n\r\n  let transformedIngredient = Object.keys(props.ingredient)\r\n  .map( i =>{\r\n            return [...Array(props.ingredient[i])].map( (_,index)=>{\r\n      return (\r\n        <BurgerIngredient key={index + i} type={i} />\r\n      )\r\n    })\r\n\r\n  }).reduce( (acumulador, elemt)=>{\r\n    return acumulador.concat(elemt)\r\n  }, [])\r\n  \r\n  \r\n    if(transformedIngredient.length === 0){\r\n      transformedIngredient= <p>please start adding some ingredient!</p>\r\n    }\r\n    return (\r\n      <div className={styles.Burger}>\r\n              <BurgerIngredient  type='bread-top' />\r\n\r\n        {transformedIngredient}\r\n        <BurgerIngredient  type='bread-bottom' />\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n","import React from 'react'\r\nimport  styles  from './buildControl.module.css'\r\n\r\n\r\nexport default (props) => {\r\n  const addClickHandler=(e)=>{\r\n    props.add(props.type)\r\n  }\r\n\r\n  const removeClickHandler=(e)=>{\r\n    props.des(props.type)\r\n  }\r\n\r\n  console.log(props.disable)\r\n  return (\r\n    <div className={styles.BuildControl}>\r\n        <div className={styles.Label}>{props.label}</div>\r\n        <button className={styles.less} onClick={removeClickHandler} disabled={props.disable}>Less</button>\r\n        <button className={styles.More} onClick={addClickHandler}>More</button>\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styles from './buildControls.module.css';\r\nimport BuildControl from './buildControl/buildControl'\r\n\r\n\r\nconst controls=[\r\n    {label:'Salad', type:'salad'},\r\n    {label:'Cheese', type:'cheese'},\r\n    {label:'Bacon', type:'bacon'},\r\n    {label:'Meat', type:'meat'},\r\n\r\n]\r\n\r\nexport default (props) => {\r\n  let message = props.isAuth ?\"Order now!\" : \"Log in to order!\";\r\n  return (\r\n    <div className={styles.BuildControls}>\r\n      <p>Current Price: <strong>{props.price.toFixed(2)}</strong></p>\r\n        {controls.map(c =>{\r\n            return ( <BuildControl key={c.label} {...c} disable={props.disabledInfo[c.type]}  add={props.addIngredient} des={props.desIngredient}/>)\r\n        })}\r\n\r\n        <button className={styles.OrderButton} onClick={props.ordered} disabled={!props.purchasable}>\r\n          {message}\r\n        </button>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './modal.module.css';\r\nimport BackDrop from './../backdrop/backdrop'\r\nimport Aux from '../../../hoc/auxComponent';\r\n\r\nexport default (props) => {\r\n  let inlineStyles = {\r\n    transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\r\n    opacity: props.show ? '1':'0'\r\n  }\r\n  return (\r\n    <Aux>\r\n      <BackDrop show={props.show} clicked={props.hide}/>\r\n      <div style={inlineStyles} className={styles.Modal}>\r\n        {props.children}\r\n      </div>\r\n    </Aux>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from './button.module.css'\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <button onClick={props.clicked} className={[styles.Button, styles[props.type]].join(' ')} disabled={props.disabled | false}>\r\n        {props.children}\r\n    </button>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '../../UI/button/button'\r\n\r\nexport default (props) => {\r\n    const {ingredients}= props;\r\n    let ingredientsList =    Object.keys(ingredients).map( ingredient =>{\r\n        return (<ul>{`${ingredient} : ${ingredients[ingredient]}`} </ul>)\r\n    })\r\n  return (\r\n    <div>\r\n        <h3>Your Order</h3>\r\n        <p>A delicius burger with the following ingredients:</p>\r\n        <ul>\r\n            {\r\n             ingredientsList\r\n            }\r\n        </ul>\r\n        <p><strong>Total Price: {props.price.toFixed(2)}</strong></p>\r\n        <p>Continue to checkout ?</p>\r\n\r\n        <Button clicked={props.cancelPurchasing} type=\"Danger\">Cancel</Button>\r\n        <Button clicked={props.continuePurchasing} type=\"Success\">Continue</Button>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport styles from \"./spinner.module.css\"\r\n\r\nexport default function spinner() {\r\n  return (\r\n    <>\r\n    <div className={styles.Loader}>Loading...</div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Aux from './../auxComponent';\r\nimport Modal from './../../components/UI/modal/modal';\r\n\r\n\r\nexport default function withErrorHandler(Component, axios) {\r\n    \r\n  return (\r\n      class extends React.Component {\r\n      \r\n        constructor(){\r\n            super()\r\n            this.state={\r\n                error:null\r\n            }\r\n            this.resInterceptor = axios.interceptors.response.use( res => res, (err)=>{\r\n                this.setState({error:err})\r\n            })\r\n\r\n            this.reqInterceptor = axios.interceptors.request.use((req)=>{\r\n                this.setState({error:null});\r\n                return req;\r\n            })\r\n        }      \r\n        \r\n        componentWillUnmount(){\r\n            //axios.interceptors.request.reject(this.reqInterceptor);\r\n            //axios.interceptors.response.reject(this.resInterceptor)\r\n\r\n        }\r\n\r\n        closeClickHandler=()=>{\r\n            this.setState({error:null})\r\n        }\r\n          render(){\r\n            return (\r\n                <Aux>\r\n                    <Modal show={this.state.error} hide={this.closeClickHandler}>\r\n                        <p>{this.state.error? this.state.error.message : null}</p>\r\n                    </Modal>\r\n                    <Component {...this.props} />\r\n                </Aux>)\r\n          }\r\n      }\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport axios from '../../axios-orders';\r\n\r\n//components\r\n\r\nimport Aux from './../../hoc/auxComponent';\r\nimport Burger from '../../components/burger/burger';\r\nimport BurgerControls from '../../components/burger/buildControls/buildControls';\r\nimport Modal from '../../components/UI/modal/modal';\r\nimport OrderSummary from '../../components/burger/orderSummary/orderSummary';\r\nimport Spinner from '../../components/UI/spinner/spinner';\r\n\r\nimport WithErrorHandler from './../../hoc/withErrorHandler/withErrorHandler';\r\n\r\n// redux\r\n\r\nimport {connect} from 'react-redux';\r\n\r\nimport * as actions from './../../redux/actions/index';\r\n\r\n class BurgerBuilder extends Component {\r\n  state={\r\n    purchasable:false,\r\n    purchasing:false,\r\n    loading:false\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n    this.props.initIngredients()\r\n\r\n  }\r\n\r\n  addIngredientHandler=(ingredient)=>{\r\n    this.props.addIngredient(ingredient);\r\n    this.updatePurchaseState(this.props.ingredients)\r\n    /*\r\n    this.setState( (oldState)=>{\r\n      let ingredients={...oldState.ingredients, [ingredient]: oldState.ingredients[ingredient] + 1};\r\n      let totalPrice = oldState.totalPrice + INGREDIENT_PRICE[ingredient];\r\n      this.updatePurchaseState(ingredients)\r\n      return {...oldState, totalPrice, ingredients}\r\n    }) */\r\n  }\r\n\r\n  removeIngredientHandler=(ingredient)=>{\r\n    if(this.props.ingredients[ingredient] === 0){\r\n      return null\r\n    }\r\n    this.props.removeIngredient(ingredient);\r\n   /* this.setState( (oldState)=>{\r\n      let ingredients={...oldState.ingredients, [ingredient]: oldState.ingredients[ingredient] - 1};\r\n      let totalPrice = oldState.totalPrice - INGREDIENT_PRICE[ingredient];\r\n      this.updatePurchaseState(ingredients);\r\n      return {...oldState, totalPrice, ingredients}\r\n    })\r\n\r\n    */\r\n  }\r\n\r\n  updatePurchaseState=(ingredients)=>{\r\n    let sum = Object.keys(ingredients).map( ingKeys =>{\r\n      return ingredients[ingKeys];\r\n    }).reduce( (sum, element)=>{\r\n      return sum + element\r\n    }, 0)\r\n\r\n    return sum;\r\n  }\r\n\r\n  purchasing=()=>{\r\n    if(this.props.isAuth){\r\n      this.setState( oldState=> ({purchasing: true}))\r\n    }else{\r\n      this.props.history.push(\"/auth\");\r\n    }\r\n  }\r\n\r\n  cancelPurchasing=()=>{\r\n    this.setState( oldState=> ({purchasing: false}))\r\n\r\n  }\r\n\r\n  continuePurchasing=()=>{\r\n    \r\n    this.props.initPurchase();\r\n    \r\n    this.props.history.push('/checkout');\r\n  }\r\n\r\n  \r\n  render() {\r\n    let disabledInfo= {...this.props.ingredients};\r\n    let burger = this.props.error ? <p>Ingredients can't be loaded</p> : <Spinner />\r\n    let orderSummary = null\r\n\r\n    for( let key in disabledInfo){\r\n      disabledInfo[key]= disabledInfo[key] <= 0;\r\n    }\r\n\r\n    if(this.state.loading){\r\n      orderSummary= <Spinner />\r\n    }\r\n\r\n    if(this.props.ingredients){\r\n\r\n      burger = ( <Aux>\r\n           <Burger ingredient={this.props.ingredients} />\r\n           <BurgerControls \r\n               addIngredient={this.addIngredientHandler} \r\n               desIngredient={this.removeIngredientHandler}\r\n               disabledInfo={disabledInfo}\r\n               price={this.props.totalPrice}\r\n               purchasable={this.updatePurchaseState(this.props.ingredients)}\r\n               ordered={this.purchasing}\r\n               isAuth={this.props.isAuth}/>\r\n           </Aux>\r\n           );\r\n      orderSummary =(<OrderSummary \r\n            ingredients={this.props.ingredients} \r\n            cancelPurchasing={this.cancelPurchasing} \r\n            continuePurchasing={this.continuePurchasing}\r\n            price={this.props.totalPrice}\r\n        />)\r\n    }\r\n    \r\n    return (\r\n      <Aux>\r\n          <Modal show={this.state.purchasing} hide={this.cancelPurchasing}>\r\n              {orderSummary}\r\n          </Modal>\r\n              {burger}\r\n      </Aux>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n  return {\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    error: state.burger.error,\r\n    isAuth: state.auth.user.tokenId!== null\r\n  }\r\n}\r\n\r\nconst mapDispachToProps = dispatch =>{\r\n  return {\r\n    addIngredient: (ingredient)=>dispatch(actions.addIngredient(ingredient)),\r\n    removeIngredient: (ingredient)=>dispatch(actions.removeIngredient(ingredient)),\r\n    initIngredients: ()=> dispatch(actions.initIngredients()),\r\n    initPurchase: ()=> dispatch(actions.redirectOn())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(WithErrorHandler(BurgerBuilder, axios));\r\n","import * as actions from './actionsTypes'\r\n\r\nimport axios from 'axios';\r\n\r\n// action creators\r\n\r\nexport const addIngredient = (ingredient) =>{\r\n    return({\r\n        type:actions.ADD_INGREDIENT,\r\n        payload:ingredient\r\n    })\r\n}\r\n\r\nexport const removeIngredient = (ingredient) => {\r\n    return ({\r\n        type:actions.REMOVE_INGREDIENT,\r\n        payload:ingredient\r\n    })\r\n}\r\n\r\n\r\nconst setIngredients = ({data})=> {\r\n    return( {\r\n        type: actions.SET_IGREDIENTS,\r\n        payload: data\r\n    })\r\n}\r\n\r\nconst failedFetch = ( err )=>{\r\n    \r\n    return ({\r\n        type: actions.FETCH_FAILED,\r\n        payload: err\r\n    })\r\n}\r\n\r\nexport const initIngredients = () => {\r\n    return dispatch =>{\r\n        axios.get('https://mi-proyecto-5192d.firebaseio.com/ingredients.json')\r\n        .then( ingredients => {\r\n            dispatch(setIngredients(ingredients))\r\n        })\r\n        .catch( err => {\r\n            \r\n            dispatch(failedFetch(err))\r\n        });\r\n        \r\n    }\r\n}","import axios from '../../axios-orders'\r\n\r\nimport * as actions from './actionsTypes'\r\n\r\nexport const purcharseBurgerSuccess = ({data}) => {\r\n    return ({\r\n        type: actions.PURCHARSE_BURGER_SUCCESS,\r\n        payload: data\r\n    })\r\n}\r\n\r\nexport const purcharseBurgerFail = (err) => {\r\n    return ({\r\n        type:actions.PURCHARSE_BURGER_FAIL,\r\n        payload: err\r\n    })\r\n}\r\n\r\nexport const purchaseBurgerStart = ()=> {\r\n    return {\r\n        type:actions.PURCHARSE_BURGER_START,\r\n    }\r\n}\r\nexport const purchaseBurger = (orderData) =>{\r\n    console.log(orderData)\r\n    return( dispatch=>{\r\n\r\n        dispatch(purchaseBurgerStart());\r\n        axios.post(`/orders.json?auth=${orderData.tokenId}`, orderData)\r\n        .then( res => {\r\n            dispatch(purcharseBurgerSuccess(res))\r\n        })\r\n        .catch( err => {\r\n            dispatch(purcharseBurgerFail(err))\r\n        });\r\n    \r\n    })\r\n}\r\n\r\nexport const redirectOn = () => {\r\n    return{\r\n        type: actions.REDIRECT_ON\r\n    }\r\n}\r\n\r\nconst fetchOrderSuccess = (orders) =>{\r\n  return ({\r\n        type: actions.FETHC_ORDER_SUCCESS,\r\n        payload: orders\r\n    })\r\n}\r\n\r\nconst fetchOrderFail= (err) =>{\r\n    return ({\r\n        type: actions.FETHC_ORDER_FAIL,\r\n        payload: err.message\r\n    })\r\n}\r\nconst fetchOrderStart = () => {\r\n    return {\r\n        type:actions.FETHC_ORDER_START\r\n    }\r\n}\r\nexport const fetchOrder = (token) =>{\r\n    \r\n    return( dispatch=>{\r\n        dispatch(fetchOrderStart())\r\n        axios.get('/orders.json?auth=' + token )\r\n        .then( orders => {\r\n            let ordersArray = [];\r\n    \r\n            for( let order in orders.data){\r\n                ordersArray.push(orders.data[order])\r\n            }\r\n            dispatch(fetchOrderSuccess(ordersArray))\r\n        })\r\n        .catch( err => {\r\n            dispatch(fetchOrderFail(err))\r\n        });\r\n    \r\n    })\r\n}","import React from \"react\";\r\nimport Burger from \"./../burger/burger\";\r\nimport Buttom from \"./../UI/button/button\";\r\n\r\nimport styles from \"./checkoutSummary.module.css\";\r\n\r\nexport default function checkoutSummary(props) {\r\n  return (\r\n    <>\r\n      <div className={styles.CheckoutSummary}>\r\n        <h1> Enjoy it !</h1>\r\n        <Burger ingredient={props.ingredient} />\r\n\r\n        <Buttom clicked={props.checkoutCancelled} type=\"Danger\">\r\n          Cancel\r\n        </Buttom>\r\n        <Buttom clicked={props.checkoutContinue} type=\"Success\">\r\n          Contiue\r\n        </Buttom>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styles from './input.module.css';\r\n\r\nexport default function Input(props) {\r\n\r\n    const {type,\r\n         placeholder,\r\n          name,\r\n           options,\r\n            label,\r\n             changed,\r\n              value,\r\n               valid,\r\n                validation,\r\n                 touched,\r\n                  blur,\r\n                   wasInvalid} = props;\r\n                   \r\n    let inputElement = null;\r\n    \r\n    let inputClasses = [styles.InputElement];\r\n    \r\n\r\n    if( !valid && validation && touched){\r\n        inputClasses.push(styles.Invalid);\r\n    }\r\n\r\n    if( wasInvalid){\r\n        inputClasses.push(styles.WasInvalid);    \r\n    }\r\n\r\n    switch(type){\r\n        case('text'):\r\n            inputElement = ( <input onChange={changed} onBlur={blur} className={inputClasses.join(' ')} type={type} value={value} name={name} placeholder={placeholder} />);\r\n            break;\r\n            \r\n        case('textarea'):\r\n             inputElement = ( <textarea onChange={changed} className={inputClasses.join(' ')} type={type} value={value}  name={name} placeholder={placeholder} />);\r\n            break;\r\n\r\n        case('select'):\r\n        inputElement = ( <select onChange={changed} className={inputClasses.join(' ')}  type={type} value={value}  name={name}  >\r\n                                {options.map( o => (<option value={o} key={o}>{o}</option>) )}\r\n                        </select>);\r\n            break;\r\n        \r\n        default:\r\n            inputElement = ( <input onChange={changed} onBlur={blur} className={inputClasses.join(' ')} type={type} value={value} name={name} placeholder={placeholder} />);\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <div className={styles.Input}>\r\n            <label className={styles.Label} >{label}</label>\r\n            {inputElement}\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","export const createInput = (\r\n  name,\r\n  type,\r\n  placeholder,\r\n  value,\r\n  options = null,\r\n  validation = null\r\n) => {\r\n  return {\r\n    type: type,\r\n    placeholder: placeholder,\r\n    value: value,\r\n    name: name,\r\n    options: options,\r\n    validation: validation,\r\n    valid: validation ? false : true,\r\n    touched: false,\r\n    dirty: false,\r\n    wasInvalid: false\r\n  };\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n  let isValid = true;\r\n\r\n  if (!rules) {\r\n    return isValid;\r\n  }\r\n  if (rules.required) {\r\n    isValid = value.trim() !== \"\" && isValid;\r\n  }\r\n\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n  }\r\n\r\n  if (rules.isEmail) {\r\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    isValid = re.test(String(value).toLowerCase()) && isValid;\r\n  }\r\n\r\n  return isValid;\r\n};\r\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../../redux/actions/orders'\r\nimport Spinner from '../../../components/UI/spinner/spinner';\r\n\r\nimport Button from './../../../components/UI/button/button';\r\nimport Input from './../../../components/UI/input/input'\r\n\r\nimport styles from './contactData.module.css';\r\n\r\nimport {createInput, checkValidity} from '../../../helpers/formHelper'\r\n\r\n class ContactData extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n           form:{\r\n             name: createInput('name', 'text', 'Your name', '', null, { required:true, minLength:3}),\r\n             email: createInput('email', 'email', 'Your email', '', null, { required:true, minLength:3}),\r\n             street: createInput('street', 'text', 'Your address', '', null, { required:true, minLength:3}),\r\n             postal: createInput('postal', 'text', 'Your Zip Code', '', null, { required:true, minLength:3}),\r\n             deleveryMethod: createInput('deleveryMethod', 'select', 'Your Zip Code', '', ['Fastesd', 'cheapest'])\r\n           }\r\n        }\r\n    }\r\n\r\n    submitHandler= (e)=>{\r\n      e.preventDefault();\r\n      \r\n    const orderData ={};\r\n\r\n    for (let inputKey in this.state.form){\r\n      orderData[inputKey] = this.state.form[inputKey].value;\r\n    }\r\n    \r\n    const {ingredients, totalPrice, tokenId}=this.props;\r\n    const order={\r\n      ingredients,\r\n      totalPrice,\r\n      orderData,\r\n      tokenId\r\n    }\r\n    this.props.submitContactData(order);\r\n    }\r\n\r\n    inputBlurHandler=({target})=>{\r\n      console.log(\"blur\")\r\n      const updateform = {...this.state.form};\r\n      let updateInput = {\r\n           ...updateform[target.name],\r\n           touched: true\r\n          };\r\n\r\n          updateform[target.name] = updateInput;\r\n          \r\n      this.setState( {form:updateform})\r\n    }\r\n\r\n\r\n    inputChangedHandler= ({target})=>{\r\n      const updateform = {...this.state.form};\r\n      let updateInput = {\r\n           ...updateform[target.name],\r\n           value:target.value,\r\n           dirty:true\r\n          };\r\n\r\n      updateInput.valid = checkValidity(target.value, updateform[target.name].validation); \r\n      updateInput.wasInvalid = updateInput.valid && updateInput.touched;\r\n      updateform[target.name] = updateInput;\r\n\r\n      \r\n      this.setState( {form:updateform})\r\n    }\r\n    \r\n\r\n  render() {\r\n    let formIsValid = true;\r\n    \r\n    //handling submission state\r\n    for(let input in this.state.form){\r\n      formIsValid = this.state.form[input].valid && formIsValid;\r\n    }\r\n    let inputArray = [];\r\n    for( let i in this.state.form){\r\n      let input =this.state.form[i]\r\n      inputArray.push({...input, key:input.name, label:input.name});\r\n    }\r\n\r\n    let form =(\r\n            <form onSubmit={this.submitHandler}>\r\n              {\r\n                inputArray.map( data => {\r\n                  return(<Input {...data} changed={this.inputChangedHandler} blur={this.inputBlurHandler}/> )\r\n                })\r\n\r\n                \r\n              }\r\n              <Button type=\"Success\" disabled={!formIsValid} >Continue</Button>\r\n            </form>\r\n    )\r\n\r\n    if(this.props.loading){\r\n      form = (  <Spinner />  );\r\n    }\r\n    return (\r\n      <>\r\n        <div className={styles.ContactData}>\r\n            <h4>Enter your contact data</h4>\r\n            {form}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return ({\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    loading: state.order.loading,\r\n    tokenId: state.auth.user.tokenId\r\n  })\r\n}\r\n\r\nconst mapDiscpachtToProps = dispatch => {\r\n  return ( {\r\n      submitContactData : (order) => dispatch(actions.purchaseBurger(order))\r\n  })\r\n}\r\n\r\nexport default connect( mapStateToProps, mapDiscpachtToProps) (ContactData)\r\n","import React, { Component } from 'react';\r\nimport {Route} from 'react-router-dom'\r\nimport CheckoutSummary from './../../components/checkoutSummary/checkoutSummary'\r\nimport ContactData from './contactData/contactData';\r\nimport * as actions from './../../redux/actions/index';\r\n\r\nimport {connect} from 'react-redux'\r\n\r\n\r\nclass Checkout extends Component {\r\n\r\n\r\n  componentWillMount(){\r\n    this.props.setRedirect();\r\n  }\r\n  \r\n  checkoutCancelledHandler= ()=>{\r\n    this.props.history.goBack();\r\n  }\r\n  checkoutContinueHandler= ()=>{\r\n    this.props.history.replace('/checkout/contact-data');\r\n  }\r\n\r\n  updatePurchaseState=(ingredients)=>{\r\n    \r\n    if(!ingredients){\r\n      return false\r\n    }\r\n    let sum = Object.keys(ingredients).map( ingKeys =>{\r\n      return ingredients[ingKeys];\r\n    }).reduce( (sum, element)=>{\r\n      return sum + element\r\n    }, 0)\r\n\r\n    return sum > 0 ;\r\n  }\r\n  render() {\r\n    if(!this.updatePurchaseState(this.props.ingredients) || this.props.redirect){\r\n     this.props.history.replace('/');\r\n     return null;\r\n    }\r\n    \r\n\r\n    return (\r\n      <>\r\n        <div  >\r\n            <CheckoutSummary  \r\n                  ingredient={this.props.ingredients}  \r\n                  checkoutCancelled={this.checkoutCancelledHandler}\r\n                  checkoutContinue={this.checkoutContinueHandler}/>\r\n\r\n            <Route path={`/checkout/contact-data`}  render={ (props)=>{\r\n                return ( <ContactData {...props} />)\r\n            }} />\r\n        </div>\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapstateToProps = state =>{\r\n  return ({\r\n    ingredients: state.burger.ingredients,\r\n    totalPrice: state.burger.totalPrice,\r\n    redirect: state.order.redirect\r\n  })\r\n}\r\n\r\nconst mapDispachtToProps = dispatch =>{\r\n  return {\r\n    setRedirect: ()=> dispatch( actions.redirectOn())\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispachtToProps)(Checkout);","import React from 'react';\r\n\r\nimport styles from './order.module.css';\r\n\r\nexport default function Order(props) {\r\n\r\n\r\n  const {ingredients, totalPrice}= props;\r\n\r\n  let ingredientsArray =[];\r\n\r\n  for(let ingredientName in ingredients){\r\n    ingredientsArray.push({name:ingredientName, amount: ingredients[ingredientName] })\r\n  }\r\n\r\n  const ingredientsOutput = (\r\n    ingredientsArray.map( ig =>{\r\n      return ( <span className={styles.IngredientBox}>{ig.name} ({ig.amount})</span>)\r\n    })\r\n  )\r\n  return (\r\n    <>\r\n        <div className={styles.Order}>\r\n            <p>Ingriedients : {ingredientsOutput} </p>\r\n            <p>Price: {Number.parseFloat(totalPrice).toFixed(2)}$</p>\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Order from './../../components/order/order';\r\nimport Spinner from './../../components/UI/spinner/spinner'\r\n\r\nimport WithErrorHandler from './../../hoc/withErrorHandler/withErrorHandler'\r\nimport {connect} from 'react-redux'\r\n\r\nimport * as actions from './../../redux/actions/index';\r\n\r\nimport axios from './../../axios-orders'\r\n\r\n\r\n class Orders extends Component {\r\n\r\n  componentDidMount(){\r\n    this.props.fetchOrders(this.props.token)\r\n  }\r\n  \r\n  render() {\r\n\r\n    let order =  (this.props.orders.map(order => {\r\n        return (<Order key={order.id} {...order} />)\r\n      })\r\n    );\r\n\r\n    if(this.props.isloading){\r\n      order= <Spinner />\r\n    }\r\n    return (\r\n      <>\r\n\r\n      <div className=\"\">\r\n         {order}\r\n      </div>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n  return ({\r\n    fetchOrders: (token)=> dispatch(actions.fetchOrder(token))\r\n  })\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return ({\r\n    token: state.auth.user.tokenId,\r\n    orders: state.order.orders,\r\n    isLoading: state.order.loading\r\n  })\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WithErrorHandler(Orders, axios)) ;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Input from \"./../../components/UI/input/input\";\r\nimport Button from \"./../../components/UI/button/button\";\r\nimport { createInput, checkValidity } from \"./../../helpers/formHelper\";\r\nimport Spinner from \"./../../components/UI/spinner/spinner\";\r\n\r\nimport * as actions from \"./../../redux/actions\";\r\n\r\nimport styles from \"./auth.module.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Auth extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.state = {\r\n      form: {\r\n        email: createInput(\"email\", \"email\", \"Email Adress\", \"\", null, {\r\n          required: true,\r\n          isEmail: true\r\n        }),\r\n        password: createInput(\"password\", \"password\", \"Password\", \"\", null, {\r\n          required: true,\r\n          minLength: 6\r\n        })\r\n      },\r\n      isSignUp: true\r\n    };\r\n  }\r\n\r\n\r\n  inputBlurHandler = ({ target }) => {\r\n    const updateform = { ...this.state.form };\r\n    let updateInput = {\r\n      ...updateform[target.name],\r\n      touched: true\r\n    };\r\n\r\n    updateform[target.name] = updateInput;\r\n\r\n    this.setState({ form: updateform });\r\n  };\r\n\r\n  inputChangedHandler = ({ target }) => {\r\n    const updateform = { ...this.state.form };\r\n    let updateInput = {\r\n      ...updateform[target.name],\r\n      value: target.value,\r\n      dirty: true\r\n    };\r\n\r\n    updateInput.valid =checkValidity(\r\n      target.value,\r\n      updateform[target.name].validation\r\n    );\r\n    updateInput.wasInvalid = updateInput.valid && updateInput.touched;\r\n    updateform[target.name] = updateInput;\r\n\r\n    this.setState({ form: updateform });\r\n  };\r\n\r\n  submitHanler = e => {\r\n    e.preventDefault();\r\n    console.log(\"submit\");\r\n    const { email, password } = this.state.form;\r\n    this.props.auth(email.value, password.value, this.state.isSignUp);\r\n  };\r\n\r\n  // for set login or sign up\r\n  switchAuthModeHandler = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        isSignUp: !prevState.isSignUp\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let inputArray = [];\r\n    for (let i in this.state.form) {\r\n      let input = this.state.form[i];\r\n      inputArray.push({ ...input, key: input.name, label: input.name });\r\n    }\r\n\r\n    // auth form\r\n    let auth = (\r\n      <React.Fragment>\r\n        <form onSubmit={this.submitHanler}>\r\n          {\" \"}\r\n          {inputArray.map(data => {\r\n            return (\r\n              <Input\r\n                {...data}\r\n                changed={this.inputChangedHandler}\r\n                blur={this.inputBlurHandler}\r\n              />\r\n            );\r\n          })}\r\n          <Button type=\"Success\">\r\n            {this.state.isSignUp ? \"Sign Up\" : \"Log In\"}\r\n          </Button>\r\n        </form>\r\n        <Button type=\"Success\" clicked={this.switchAuthModeHandler}>\r\n          {\" \"}\r\n          {this.state.isSignUp\r\n            ? \"already have account ?\"\r\n            : \"Create a new account\"}\r\n        </Button>\r\n      </React.Fragment>\r\n    );\r\n    // alert message\r\n    let errorAlert;\r\n\r\n    // checking props \r\n    if (this.props.loading) {\r\n      auth = <Spinner />;\r\n    }\r\n    if (this.props.isAuth){\r\n      let redirectPath= this.props.isBuilding ? \"/checkout\" : \"/\"\r\n      auth = <Redirect to={redirectPath} />\r\n    }\r\n    if (this.props.error.code === 400){\r\n      errorAlert = <p>Ya existe una cuenta con ese email, prueba uno distinto o inicia sesion!</p>;\r\n    }\r\n    return (\r\n      <div className={styles.Auth}>\r\n        {this.props.error ? errorAlert : null}\r\n        {auth}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToprops = dispatch => {\r\n  return {\r\n    auth: (email, password, isSignUp) =>\r\n      dispatch(actions.auth(email, password, isSignUp))\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isBuilding: state.burger.building,\r\n    isAuth: state.auth.user.tokenId !== null\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToprops)(Auth);\r\n","import React from \"react\";\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"./../../../redux/actions\";\r\nimport Spinner from \"../../../components/UI/spinner/spinner\";\r\n\r\nfunction Logout(props) {\r\n  let logOut = <Spinner />;\r\n\r\n  if (props.isAuth) {\r\n    setTimeout(() => {\r\n      props.onLogout();\r\n    }, 500);\r\n  } else {\r\n    logOut = <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return <>{logOut}</>;\r\n}\r\n\r\nconst mapDsipatchToprops = dispatch => {\r\n  return {\r\n    onLogout: () => {\r\n      dispatch(actions.logOut());\r\n    }\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLoading: state.auth.loading,\r\n    error: state.auth.error,\r\n    isAuth: state.auth.user.tokenId !== null\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDsipatchToprops)(Logout));\r\n","import React from 'react';\n\nimport {Route, withRouter, Switch, Redirect} from 'react-router-dom'\n\nimport {connect} from 'react-redux';\nimport * as actions from './redux/actions';\n\nimport Layout from './components/layout/loyout';\nimport BurgerBuilder from './containers/burgerBuilder/burgerBuilder';\nimport Checkout from './containers/checkout/checkout'\nimport Order from './containers/orders/orders';\nimport Auth from './containers/auth/auth'\nimport Logout from './containers/auth/logout/logout';\n\nfunction App(props) {\nconst {isAuth,onCheckAuthState } = props;\n  React.useEffect(() => {\n    onCheckAuthState()\n  }, [isAuth])\n\n   let routes = (\n     <Switch>\n      <Route path='/auth'  exact component={Auth}/>\n      <Route path='/'  exact component={BurgerBuilder}/>\n      <Redirect to=\"/\" />\n     </Switch>\n   )\n     if(props.isAuth){\n      routes =(\n        <Switch>\n          <Route path='/checkout' component={Checkout}/> \n          <Route path='/orders' component={Order} />\n          <Route path='/auth'  exact component={Auth}/>\n          <Route path='/logout' exact component={Logout} />\n          <Route path='/'  exact component={BurgerBuilder}/>\n          <Redirect to=\"/\" />\n        </Switch>\n      )\n     }\n\n  return (\n    <Layout>      \n      {routes}\n    </Layout>\n  );\n}\n\nconst mapDispatchToProps = dispatch =>{\n  return {\n    onCheckAuthState : () => {dispatch(actions.authState())}\n  }\n}\nconst mapSatateToProps = state => {\n  return {isAuth: state.auth.user.tokenId !==null}\n}\n\nexport default withRouter(connect(mapSatateToProps, mapDispatchToProps)(App))\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from './../actions/actionsTypes';\r\n\r\n\r\nconst INGREDIENT_PRICE={\r\n    salad:0.5,\r\n    bacon:0.6,\r\n    cheese:0.4,\r\n    meat:1.3\r\n  }\r\n\r\nconst initialState= {\r\n\r\n    ingredients:null,\r\n    error:false,\r\n    totalPrice:4.5,\r\n    building:false,\r\n\r\n}\r\n\r\nconst reducer =(state=initialState, action)=>{\r\n    \r\n    switch (action.type) {\r\n        case actionTypes.ADD_INGREDIENT:\r\n            \r\n            return {\r\n                ...state,\r\n                ingredients: {...state.ingredients, [action.payload]: state.ingredients[action.payload] + 1  },\r\n                totalPrice: state.totalPrice + INGREDIENT_PRICE[action.payload],\r\n                building:true\r\n            };\r\n\r\n        \r\n        case actionTypes.FETCH_FAILED:\r\n            return ({\r\n                ...state,\r\n                error:true\r\n            });\r\n            \r\n        case actionTypes.REMOVE_INGREDIENT:\r\n\r\n            return ({\r\n                ...state,\r\n                ingredients: {...state.ingredients, [action.payload]: state.ingredients[action.payload] - 1  },\r\n                totalPrice: state.totalPrice - INGREDIENT_PRICE[action.payload],\r\n                building:true\r\n\r\n            });\r\n            \r\n\r\n        case actionTypes.SET_IGREDIENTS:\r\n            return ({\r\n                ...state,\r\n                ingredients: action.payload,\r\n                error:false,\r\n                totalPrice:4.5\r\n            })\r\n    \r\n        default:\r\n          return state  \r\n    }\r\n    \r\n}\r\n\r\nexport default reducer;","import * as actions from './../actions/actionsTypes';\r\n\r\n\r\nconst initialState = {\r\n    orders:[],\r\n    loading:false,\r\n    redirect:false\r\n}\r\n\r\n\r\nexport default ( state = initialState, action)=>{\r\n\r\n    switch (action.type) {\r\n        case actions.PURCHARSE_BURGER_SUCCESS:\r\n            return ({\r\n                ...state,\r\n                orders: [...state.orders, action.payload],\r\n                loading:false,\r\n                redirect:true\r\n            });\r\n        case actions.PURCHARSE_BURGER_FAIL:\r\n            return({\r\n                ...state,\r\n                loading:false\r\n            });\r\n        case actions.PURCHARSE_BURGER_START:\r\n            return({\r\n                ...state,\r\n                loading:true\r\n            })\r\n        case actions.REDIRECT_ON:\r\n            return ({\r\n                ...state,\r\n                redirect:false\r\n            });\r\n        case actions.FETHC_ORDER_START:\r\n            return ({\r\n                ...state,\r\n                loading: true,\r\n\r\n            });\r\n        case actions.FETHC_ORDER_FAIL:\r\n        return ({\r\n            ...state,\r\n            loading: false,\r\n            \r\n        });\r\n\r\n        case actions.FETHC_ORDER_SUCCESS:\r\n            return ({\r\n                ...state,\r\n                orders : action.payload,\r\n                loading: false,\r\n                \r\n            });\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as actions from \"./../actions/actionsTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: false,\r\n  user: { localId: null, tokenId: null, refreshToken: null }\r\n};\r\n\r\nconst authStart = state => {\r\n  return { ...state, loading: true, error: false };\r\n};\r\n\r\nconst authSuccess = (state, action) => {\r\n  return {\r\n    ...state,\r\n    loading: false,\r\n    error: false,\r\n    user: { ...action.payload }\r\n  };\r\n};\r\nconst authFail = (state, action) => {\r\n  return { ...state, loading: false, error: action.payload };\r\n};\r\nconst authLogOut = (state, action) => {\r\n  return {\r\n    ...state,\r\n    loading:false,\r\n    user: { localId: null, tokenId: null, refreshToken: null }\r\n  };\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actions.AUTH_START:\r\n      return authStart(state);\r\n    case actions.AUTH_FAIL:\r\n      return authFail(state, action);\r\n    case actions.AUTH_SUCCESS:\r\n      return authSuccess(state, action);\r\n    case actions.AUTH_LOGOUT:\r\n      return authLogOut(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {createStore, applyMiddleware, compose, combineReducers} from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\n\r\nimport burgerReducer from './reducers/burgerReducer';\r\nimport order from './reducers/orders';\r\nimport authReducer from './reducers/authReducer'\r\n\r\nconst reducers = combineReducers({\r\n    burger: burgerReducer,\r\n    order: order,\r\n    auth: authReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\n\r\nexport default createStore( reducers , composeEnhancers(applyMiddleware( thunk)) );\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport {Provider} from 'react-redux';\nimport store from './redux/store';\n\nconst app= ( <BrowserRouter  basename='burgerBuilder/'><App /></BrowserRouter>)\n\nReactDOM.render(<Provider store={store}>{app}</Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}